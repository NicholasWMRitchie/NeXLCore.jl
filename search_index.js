var documenterSearchIndex = {"docs":
[{"location":"Au60Ag40unc/#Computing-the-Composition-of-SRM-481","page":"Mass Fraction Uncertainty","title":"Computing the Composition of SRM-481","text":"","category":"section"},{"location":"Au60Ag40unc/","page":"Mass Fraction Uncertainty","title":"Mass Fraction Uncertainty","text":"One of the Au-Ag wires is nominally 59.50±1.20% Au and 40.20±0.90% Ag according to the SRM certificate. We will use NeXLUncertainties and NeXLCore to compute various different representations of the composition (normalized, atom fraction, etc.)","category":"page"},{"location":"Au60Ag40unc/","page":"Mass Fraction Uncertainty","title":"Mass Fraction Uncertainty","text":"using NeXLCore\nusing DataFrames","category":"page"},{"location":"Au60Ag40unc/","page":"Mass Fraction Uncertainty","title":"Mass Fraction Uncertainty","text":"Let's set up the UncertainValues object containing the input values which include the mass fractions of each element and the nominal atomic weight of each element with uncertainties.","category":"page"},{"location":"Au60Ag40unc/","page":"Mass Fraction Uncertainty","title":"Mass Fraction Uncertainty","text":"mat = \"Au60Ag40\"\ninplbls = [ MassFractionLabel(mat,n\"Ag\"), AtomicWeightLabel(mat,n\"Ag\"),\n            MassFractionLabel(mat,n\"Au\"), AtomicWeightLabel(mat,n\"Au\") ]\ninpvals = [ 0.4020, 107.8682, 0.5950, 196.966570 ]\ninpcovs = [ (0.0090)^2 0 0 0; 0 (0.0002)^2 0 0; 0 0 (0.0120)^2 0; 0 0 0 (0.000004)^2 ]\ninputs = uvs(inplbls, inpvals, inpcovs)","category":"page"},{"location":"Au60Ag40unc/","page":"Mass Fraction Uncertainty","title":"Mass Fraction Uncertainty","text":"Labels Values  C[Ag,Au60Ag40] Az[Ag,Au60Ag40] C[Au,Au60Ag40] Az[Au,Au60Ag40]\nC[Ag,Au60Ag40] 4.02e-01  (9.00e-03)² 0.00e+00 0.00e+00 0.00e+00\nAz[Ag,Au60Ag40] 1.08e+02 ± 0.00e+00 (2.00e-04)² 0.00e+00 0.00e+00\nC[Au,Au60Ag40] 5.95e-01  0.00e+00 0.00e+00 (1.20e-02)² 0.00e+00\nAz[Au,Au60Ag40] 1.97e+02  0.00e+00 0.00e+00 0.00e+00 (4.00e-06)²","category":"page"},{"location":"Au60Ag40unc/","page":"Mass Fraction Uncertainty","title":"Mass Fraction Uncertainty","text":"mf2comp(...) defined in NeXLCore takes the inputs and computes the atom fractions, normalized mass fractions, mean atomic number, and mean atomic weight while propagating uncertaities in the input variables into the output variables.  In both the case of the atom fraction and the normalized mass fraction, the normalization step introduces correlations between the output values.","category":"page"},{"location":"Au60Ag40unc/","page":"Mass Fraction Uncertainty","title":"Mass Fraction Uncertainty","text":"afs = mf2comp( mat, inputs)","category":"page"},{"location":"Au60Ag40unc/","page":"Mass Fraction Uncertainty","title":"Mass Fraction Uncertainty","text":"Labels Values  C[Ag,Au60Ag40] Az[Ag,Au60Ag40] C[Au,Au60Ag40] Az[Au,Au60Ag40] A[Ag,Au60Ag40] A[Au,Au60Ag40] N[Ag,Au60Ag40] N[Au,Au60Ag40] MeanZ[Au60Ag40] MeanAz[Au60Ag40]\nC[Ag,Au60Ag40] 4.02e-01  (9.00e-03)² 0.00e+00 0.00e+00 0.00e+00 4.98e-05 -4.98e-05 4.85e-05 -4.85e-05 3.81e-03 8.74e-03\nAz[Ag,Au60Ag40] 1.08e+02  0.00e+00 (2.00e-04)² 0.00e+00 0.00e+00 -9.17e-11 9.17e-11 0.00e+00 0.00e+00 0.00e+00 1.61e-08\nC[Au,Au60Ag40] 5.95e-01  0.00e+00 0.00e+00 (1.20e-02)² 0.00e+00 -5.98e-05 5.98e-05 -5.82e-05 5.82e-05 1.14e-02 2.84e-02\nAz[Au,Au60Ag40] 1.97e+02  0.00e+00 0.00e+00 0.00e+00 (4.00e-06)² 2.01e-14 -2.01e-14 0.00e+00 0.00e+00 0.00e+00 9.52e-12\nA[Ag,Au60Ag40] 5.52e-01 ± 4.98e-05 -9.17e-11 -5.98e-05 2.01e-14 (7.45e-03)² -5.55e-05 5.40e-05 -5.40e-05 -2.39e-03 -6.41e-03\nA[Au,Au60Ag40] 4.48e-01  -4.98e-05 9.17e-11 5.98e-05 -2.01e-14 -5.55e-05 (7.45e-03)² -5.40e-05 5.40e-05 2.39e-03 6.41e-03\nN[Ag,Au60Ag40] 4.03e-01  4.85e-05 0.00e+00 -5.82e-05 0.00e+00 5.40e-05 -5.40e-05 (7.25e-03)² -5.26e-05 -2.32e-03 -6.24e-03\nN[Au,Au60Ag40] 5.97e-01  -4.85e-05 0.00e+00 5.82e-05 0.00e+00 -5.40e-05 5.40e-05 -5.26e-05 (7.25e-03)² 2.32e-03 6.24e-03\nMeanZ[Au60Ag40] 6.59e+01  3.81e-03 0.00e+00 1.14e-02 0.00e+00 -2.39e-03 2.39e-03 -2.32e-03 2.32e-03 (1.04e+00)² 2.65e+00\nMeanAz[Au60Ag40] 1.61e+02  8.74e-03 1.61e-08 2.84e-02 9.52e-12 -6.41e-03 6.41e-03 -6.24e-03 6.24e-03 2.65e+00 (2.56e+00)²","category":"page"},{"location":"Au60Ag40unc/","page":"Mass Fraction Uncertainty","title":"Mass Fraction Uncertainty","text":"The data can also be output as a DataFrame to simplify presentation and exporting to CSV files.","category":"page"},{"location":"Au60Ag40unc/","page":"Mass Fraction Uncertainty","title":"Mass Fraction Uncertainty","text":"asa(DataFrame,afs)","category":"page"},{"location":"Au60Ag40unc/","page":"Mass Fraction Uncertainty","title":"Mass Fraction Uncertainty","text":"10×12 DataFrame. Omitted printing of 3 columns\n│ Row │ Variable         │ Values   │ C[Ag,Au60Ag40] │ Az[Ag,Au60Ag40] │ C[\nAu,Au60Ag40] │ Az[Au,Au60Ag40] │ A[Ag,Au60Ag40] │ A[Au,Au60Ag40] │ N[Ag,Au6\n0Ag40] │\n│     │ String           │ Float64  │ Float64        │ Float64         │ Fl\noat64        │ Float64         │ Float64        │ Float64        │ Float64 \n       │\n├─────┼──────────────────┼──────────┼────────────────┼─────────────────┼───\n─────────────┼─────────────────┼────────────────┼────────────────┼─────────\n───────┤\n│ 1   │ C[Ag,Au60Ag40]   │ 0.402    │ 8.1e-5         │ 0.0             │ 0.\n0            │ 0.0             │ 4.98218e-5     │ -4.98218e-5    │ 4.84855e\n-5     │\n│ 2   │ Az[Ag,Au60Ag40]  │ 107.868  │ 0.0            │ 4.0e-8          │ 0.\n0            │ 0.0             │ -9.1691e-11    │ 9.1691e-11     │ 0.0     \n       │\n│ 3   │ C[Au,Au60Ag40]   │ 0.595    │ 0.0            │ 0.0             │ 0.\n000144       │ 0.0             │ -5.98419e-5    │ 5.98419e-5     │ -5.82369\ne-5    │\n│ 4   │ Az[Au,Au60Ag40]  │ 196.967  │ 0.0            │ 0.0             │ 0.\n0            │ 1.6e-11         │ 2.00857e-14    │ -2.00857e-14   │ 0.0     \n       │\n│ 5   │ A[Ag,Au60Ag40]   │ 0.552312 │ 4.98218e-5     │ -9.1691e-11     │ -5\n.98419e-5    │ 2.00857e-14     │ 5.5513e-5      │ -5.5513e-5     │ 5.40241e\n-5     │\n│ 6   │ A[Au,Au60Ag40]   │ 0.447688 │ -4.98218e-5    │ 9.1691e-11      │ 5.\n98419e-5     │ -2.00857e-14    │ -5.5513e-5     │ 5.5513e-5      │ -5.40241\ne-5    │\n│ 7   │ N[Ag,Au60Ag40]   │ 0.40321  │ 4.84855e-5     │ 0.0             │ -5\n.82369e-5    │ 0.0             │ 5.40241e-5     │ -5.40241e-5    │ 5.25751e\n-5     │\n│ 8   │ N[Au,Au60Ag40]   │ 0.59679  │ -4.84855e-5    │ 0.0             │ 5.\n82369e-5     │ 0.0             │ -5.40241e-5    │ 5.40241e-5     │ -5.25751\ne-5    │\n│ 9   │ MeanZ[Au60Ag40]  │ 65.899   │ 0.003807       │ 0.0             │ 0.\n011376       │ 0.0             │ -0.00238589    │ 0.00238589     │ -0.00232\n19     │\n│ 10  │ MeanAz[Au60Ag40] │ 160.558  │ 0.00873732     │ 1.608e-8        │ 0.\n0283632      │ 9.52e-12        │ -0.00641268    │ 0.00641268     │ -0.00624\n068    │","category":"page"},{"location":"Au60Ag40unc/","page":"Mass Fraction Uncertainty","title":"Mass Fraction Uncertainty","text":"To access a single value, you can use bracket notation and the label associated with the desired parameter.","category":"page"},{"location":"Au60Ag40unc/","page":"Mass Fraction Uncertainty","title":"Mass Fraction Uncertainty","text":"afs[MeanAz(mat)], afs[AtomicFractionLabel(mat,n\"Au\")], afs[NormMassFractionLabel(mat,n\"Au\")]","category":"page"},{"location":"Au60Ag40unc/","page":"Mass Fraction Uncertainty","title":"Mass Fraction Uncertainty","text":"(160.6 ± 2.6, 0.4477 ± 0.0075, 0.5968 ± 0.0073)","category":"page"},{"location":"Au60Ag40unc/","page":"Mass Fraction Uncertainty","title":"Mass Fraction Uncertainty","text":"Or you can iterate over all the labels.  Note this style of presentation is suitable if these numbers are to be reported as the final value in a calculation.  The full values+covariance matrix representation is required if the values will be used in subsequent calculations.","category":"page"},{"location":"Au60Ag40unc/","page":"Mass Fraction Uncertainty","title":"Mass Fraction Uncertainty","text":"map(lbl->(lbl => afs[lbl]),labels(afs))","category":"page"},{"location":"Au60Ag40unc/","page":"Mass Fraction Uncertainty","title":"Mass Fraction Uncertainty","text":"10-element Array{Pair{A,UncertainValue} where A,1}:\n   C[Ag,Au60Ag40] => 0.402 ± 0.009\n  Az[Ag,Au60Ag40] => 107.8682 ± 0.0002\n   C[Au,Au60Ag40] => 0.595 ± 0.012\n  Az[Au,Au60Ag40] => 196.9666 ± 4e-06\n   A[Ag,Au60Ag40] => 0.5523 ± 0.0075\n   A[Au,Au60Ag40] => 0.4477 ± 0.0075\n   N[Ag,Au60Ag40] => 0.4032 ± 0.0073\n   N[Au,Au60Ag40] => 0.5968 ± 0.0073\n  MeanZ[Au60Ag40] => 65.9 ± 1\n MeanAz[Au60Ag40] => 160.6 ± 2.6","category":"page"},{"location":"Au60Ag40unc/","page":"Mass Fraction Uncertainty","title":"Mass Fraction Uncertainty","text":"Let's time this...","category":"page"},{"location":"Au60Ag40unc/","page":"Mass Fraction Uncertainty","title":"Mass Fraction Uncertainty","text":"using BenchmarkTools\n@btime mf2comp( mat, inputs);","category":"page"},{"location":"Au60Ag40unc/","page":"Mass Fraction Uncertainty","title":"Mass Fraction Uncertainty","text":"133.201 μs (568 allocations: 33.42 KiB)","category":"page"},{"location":"Au60Ag40unc/","page":"Mass Fraction Uncertainty","title":"Mass Fraction Uncertainty","text":"Labels Values  C[Ag,Au60Ag40] Az[Ag,Au60Ag40] C[Au,Au60Ag40] Az[Au,Au60Ag40] A[Ag,Au60Ag40] A[Au,Au60Ag40] N[Ag,Au60Ag40] N[Au,Au60Ag40] MeanZ[Au60Ag40] MeanAz[Au60Ag40]\nC[Ag,Au60Ag40] 4.02e-01  (9.00e-03)² 0.00e+00 0.00e+00 0.00e+00 4.98e-05 -4.98e-05 4.85e-05 -4.85e-05 3.81e-03 8.74e-03\nAz[Ag,Au60Ag40] 1.08e+02  0.00e+00 (2.00e-04)² 0.00e+00 0.00e+00 -9.17e-11 9.17e-11 0.00e+00 0.00e+00 0.00e+00 1.61e-08\nC[Au,Au60Ag40] 5.95e-01  0.00e+00 0.00e+00 (1.20e-02)² 0.00e+00 -5.98e-05 5.98e-05 -5.82e-05 5.82e-05 1.14e-02 2.84e-02\nAz[Au,Au60Ag40] 1.97e+02  0.00e+00 0.00e+00 0.00e+00 (4.00e-06)² 2.01e-14 -2.01e-14 0.00e+00 0.00e+00 0.00e+00 9.52e-12\nA[Ag,Au60Ag40] 5.52e-01 ± 4.98e-05 -9.17e-11 -5.98e-05 2.01e-14 (7.45e-03)² -5.55e-05 5.40e-05 -5.40e-05 -2.39e-03 -6.41e-03\nA[Au,Au60Ag40] 4.48e-01  -4.98e-05 9.17e-11 5.98e-05 -2.01e-14 -5.55e-05 (7.45e-03)² -5.40e-05 5.40e-05 2.39e-03 6.41e-03\nN[Ag,Au60Ag40] 4.03e-01  4.85e-05 0.00e+00 -5.82e-05 0.00e+00 5.40e-05 -5.40e-05 (7.25e-03)² -5.26e-05 -2.32e-03 -6.24e-03\nN[Au,Au60Ag40] 5.97e-01  -4.85e-05 0.00e+00 5.82e-05 0.00e+00 -5.40e-05 5.40e-05 -5.26e-05 (7.25e-03)² 2.32e-03 6.24e-03\nMeanZ[Au60Ag40] 6.59e+01  3.81e-03 0.00e+00 1.14e-02 0.00e+00 -2.39e-03 2.39e-03 -2.32e-03 2.32e-03 (1.04e+00)² 2.65e+00\nMeanAz[Au60Ag40] 1.61e+02  8.74e-03 1.61e-08 2.84e-02 9.52e-12 -6.41e-03 6.41e-03 -6.24e-03 6.24e-03 2.65e+00 (2.56e+00)²","category":"page"},{"location":"Au60Ag40unc/","page":"Mass Fraction Uncertainty","title":"Mass Fraction Uncertainty","text":"Not too shabby!?","category":"page"},{"location":"gettingstarted/#![](NeXL_sm.png)Core-Part-of-the-NeXL-X-ray-Microanalysis-Library","page":"Getting Started","title":"(Image: )Core - Part of the NeXL X-ray Microanalysis Library","text":"","category":"section"},{"location":"gettingstarted/#Getting-Started-With-NeXLCore","page":"Getting Started","title":"Getting Started With NeXLCore","text":"","category":"section"},{"location":"gettingstarted/","page":"Getting Started","title":"Getting Started","text":"NeXLCore provides the core data, algorithms and data structures for the NeXL collection of microanalysis libraries.","category":"page"},{"location":"gettingstarted/","page":"Getting Started","title":"Getting Started","text":"Primarily NeXLCore provides:","category":"page"},{"location":"gettingstarted/","page":"Getting Started","title":"Getting Started","text":"Definitions of data types relevant to X-ray microanalysis\nElement : Borrowed from the third-party PeriodicTable library\nMaterial : Combinations of Elements\nSubShell : Representing K, L1, L2, L3, M1,... sub-shells\nAtomicSubShell : Representing a SubShell in a specific Element\nTransition : Representing a non-forbidden X-ray transition between SubShells - like \"K-L3\"\nCharXRay : Representing a Transition in a specific Element\nKRatio : A ratio of X-ray intensities\nAlgorithms to work on these data structures, including (but not limited to)\nenergy(xx) where xx may be an AtomicSubShell or a CharXRay (Always in eV!!!)\nmac(xx, yy) where xx may be an Element or Material and yy may be a CharXRay or a Float64\nNeXLCore defines two useful macros. Learn them, love them, use them...\nn\"???\" which creates Elements, SubShells, AtomicSubShells, Transitions and CharXRays from AbstractStrings\nmat\"???\" which creates Materials from AbstractStrings like mat\"AlNaSi3O8\"\nThroughout NeXL, units are always electron-volt (energy), centimeter (length), second (time), gram (mass) and angles are in radians even when it seems a little odd.\nA foolish consistency? I think not...\nNeXL uses Gadfly for plotting.\nMany things you'd want to plot can be plotted using using Gadfly; plot(x)\nHowever, to minimize overhead, plotting support is not loaded (thanks to Requires) until Gadfly is explicitly loaded by the user.\nNeXL uses DataFrames for tabular data.","category":"page"},{"location":"gettingstarted/","page":"Getting Started","title":"Getting Started","text":"Let's get this party started...","category":"page"},{"location":"gettingstarted/","page":"Getting Started","title":"Getting Started","text":"Load the library","category":"page"},{"location":"gettingstarted/","page":"Getting Started","title":"Getting Started","text":"using NeXLCore","category":"page"},{"location":"gettingstarted/#Element","page":"Getting Started","title":"Element","text":"","category":"section"},{"location":"gettingstarted/","page":"Getting Started","title":"Getting Started","text":"Constructing Element objects","category":"page"},{"location":"gettingstarted/","page":"Getting Started","title":"Getting Started","text":"julia> e1, e2, e3 = n\"Ca\", elements[20], parse(Element, \"Pu\")\n(Element(Calcium), Element(Calcium), Element(Plutonium))\n\njulia> es = parse.(Element, [\"Ca\", \"21\", \"Ti\", \"Vanadium\"  ])\n4-element Array{Element,1}:\n Element(Calcium)\n Element(Scandium)\n Element(Titanium)\n Element(Vanadium)\n","category":"page"},{"location":"gettingstarted/","page":"Getting Started","title":"Getting Started","text":"Note the use of n\"??\".  We'll see a lot of this.","category":"page"},{"location":"gettingstarted/","page":"Getting Started","title":"Getting Started","text":"Elements come with lots of useful information...","category":"page"},{"location":"gettingstarted/","page":"Getting Started","title":"Getting Started","text":"e3","category":"page"},{"location":"gettingstarted/","page":"Getting Started","title":"Getting Started","text":"Plutonium (Pu), number 94:\n        category: actinide\n     atomic mass: 244.0 u\n         density: 19.816 g/cm³\n      molar heat: 35.5 J/mol⋅K\n   melting point: 912.5 K\n   boiling point: 3505.0 K\n           phase: Solid\n          shells: [2, 8, 18, 32, 24, 8, 2]\ne⁻-configuration: 1s² 2s² 2p⁶ 3s² 3p⁶ 4s² 3d¹⁰ 4p⁶ 5s² 4d¹⁰ 5p⁶ 6s² 4f¹⁴ 5d\n¹⁰ 6p⁶ 7s² 5f⁶\n      appearance: silvery white, tarnishing to dark gray in air\n         summary: Plutonium is a transuranic radioactive chemical element w\nith symbol Pu and atomic number 94. It is an actinide metal of silvery-gray\n appearance that tarnishes when exposed to air, and forms a dull coating wh\nen oxidized. The element normally exhibits six allotropes and four oxidatio\nn states.\n   discovered by: Glenn T. Seaborg\n          source: https://en.wikipedia.org/wiki/Plutonium","category":"page"},{"location":"gettingstarted/","page":"Getting Started","title":"Getting Started","text":"As you can see, each element comes with many different properties which can be accessed by the field names. PeriodicTable uses Unitful to provide physical units for quantities.","category":"page"},{"location":"gettingstarted/","page":"Getting Started","title":"Getting Started","text":"julia> fieldnames(Element)\n(:name, :appearance, :atomic_mass, :boil, :category, :color, :density, :discovered_by, :el_config, :melt, :molar_heat, :named_by, :number, :period, :phase, :source, :spectral_img, :summary, :symbol, :xpos, :ypos, :shells)\n\njulia> e1.name, name(e1)\n(\"Calcium\", \"Calcium\")\n\njulia> e1.symbol, symbol(e1)\n(\"Ca\", \"Ca\")\n\njulia> e1.atomic_mass, a(e1)\n(40.0784 u, 40.0784)\n\njulia> e1.number, z(e1)\n(20, 20)\n\njulia> e1.boil\n1757.0 K\n\njulia> e1.density, density(e1)\n(1.55 g cm^-3, 1.55)\n\njulia> e1.el_config\n\"1s² 2s² 2p⁶ 3s² 3p⁶ 4s²\"\n","category":"page"},{"location":"gettingstarted/#Material","page":"Getting Started","title":"Material","text":"","category":"section"},{"location":"gettingstarted/","page":"Getting Started","title":"Getting Started","text":"The Material structure carries composition information as mass fractions of the elements. This object also carries name, atomic weight, and other properties like density.  A simple way to create Material objects is the mat\"??\" macro. To get the mass fraction's out index the object with an element.  All the Elements in a Material are accessed via keys(...).","category":"page"},{"location":"gettingstarted/","page":"Getting Started","title":"Getting Started","text":"julia> albite = mat\"AlNaSi3O8\"\nAlNaSi3O8[Al=0.1029,Si=0.3213,Na=0.0877,O=0.4881]\n\njulia> albite[n\"Al\"], albite[n\"Na\"], albite[n\"Tc\"]\n(0.10289723395373596, 0.08767415772881798, 0.0)\n\njulia> keys(albite) # keys(...) for consistency with other Julia objects\nBase.Generator{Base.KeySet{Int64,Dict{Int64,AbstractFloat}},typeof(element)}(NeXLCore.element, [13, 14, 11, 8])\n\njulia> collect(keys(albite)) # Now maybe this is a little more clear\n4-element Array{Element,1}:\n Element(Aluminium)\n Element(Silicon)\n Element(Sodium)\n Element(Oxygen)\n\njulia> a(n\"Na\", albite)\n22.989769282\n","category":"page"},{"location":"gettingstarted/","page":"Getting Started","title":"Getting Started","text":"You can enter mass fractions in directly using the mat\"??\" syntax.","category":"page"},{"location":"gettingstarted/","page":"Getting Started","title":"Getting Started","text":"mat = mat\"0.8*Fe+0.15*Ni+0.05*Cr\"","category":"page"},{"location":"gettingstarted/","page":"Getting Started","title":"Getting Started","text":"0.8×Fe+0.15×Ni+0.05×Cr[Fe=0.8000,Ni=0.1500,Cr=0.0500]","category":"page"},{"location":"gettingstarted/","page":"Getting Started","title":"Getting Started","text":"There are more sophisticated ways to create materials with additional properties.  For example, I could have created a richer definition of albite.","category":"page"},{"location":"gettingstarted/","page":"Getting Started","title":"Getting Started","text":"julia> albite = parse(Material, \"AlNaSi3O8\", name=\"Albite\", density=2.60, atomicweights=Dict(n\"Na\"=>23.0))\nAlbite[Al=0.1029,Si=0.3213,Na=0.0877,O=0.4881,2.60 g/cm³]\n\njulia> all(e->a(e)==a(e,albite), keys(albite)) # Not all are default\nfalse\n\njulia> a(n\"Na\", albite),  a(n\"O\", albite)\n(23.0, 15.999)\n\njulia> \nss = parse(Material, \"0.8*Fe+0.15*Ni+0.05*Cr\", name=\"Stainless\", density=7.5)\nStainless[Fe=0.8000,Ni=0.1500,Cr=0.0500,7.50 g/cm³]\n\njulia> ss[n\"Fe\"], density(ss), name(ss)\n(0.8, 7.5, \"Stainless\")\n\njulia> all(e->a(e)==a(e,ss), keys(ss)) # The atomic weights are the default values (from PeriodicTable)\ntrue\n","category":"page"},{"location":"gettingstarted/","page":"Getting Started","title":"Getting Started","text":"Alternatively, I could have built albite in terms of atom fractions.  Note that the mass fractions are different because the assumed atomic weight of sodium is different.","category":"page"},{"location":"gettingstarted/","page":"Getting Started","title":"Getting Started","text":"julia> albite2 = atomicfraction(\"Albite\", n\"Al\"=>1, n\"Na\"=>1, n\"Si\"=>3, n\"O\"=>8, properties=Dict{Symbol,Any}(:Density=>2.6), atomicweights=Dict(n\"Na\"=>22.0))\nAlbite[Al=0.1033,Si=0.3225,Na=0.0842,O=0.4900,2.60 g/cm³]\n","category":"page"},{"location":"gettingstarted/","page":"Getting Started","title":"Getting Started","text":"using DataFrames\nasa(DataFrame, albite2)","category":"page"},{"location":"gettingstarted/","page":"Getting Started","title":"Getting Started","text":"4×7 DataFrame\n│ Row │ Material │ Element │ AtomicNumber │ AtomicWeight │ MassFraction │ N\normalizedMassFraction │ AtomicFraction │\n│     │ String   │ String  │ Int64        │ AbstractFlo… │ AbstractFlo… │ A\nbstractFloat          │ AbstractFloat  │\n├─────┼──────────┼─────────┼──────────────┼──────────────┼──────────────┼──\n──────────────────────┼────────────────┤\n│ 1   │ Albite   │ O       │ 8            │ 15.999       │ 0.489962     │ 0\n.489962               │ 0.615385       │\n│ 2   │ Albite   │ Na      │ 11           │ 22.0         │ 0.0842174    │ 0\n.0842174              │ 0.0769231      │\n│ 3   │ Albite   │ Al      │ 13           │ 26.9815      │ 0.103287     │ 0\n.103287               │ 0.0769231      │\n│ 4   │ Albite   │ Si      │ 14           │ 28.085       │ 0.322534     │ 0\n.322534               │ 0.230769       │","category":"page"},{"location":"gettingstarted/","page":"Getting Started","title":"Getting Started","text":"There are many methods for transforming representation of the composition.","category":"page"},{"location":"gettingstarted/","page":"Getting Started","title":"Getting Started","text":"julia> ss = parse(Material,\"0.78*Fe+0.15*Ni+0.04*Cr\",name=\"Stainless\")\nStainless[Fe=0.7800,Ni=0.1500,Cr=0.0400]\n\njulia> analyticaltotal(ss)\n0.9700000000000001\n\njulia> atomicfraction(ss)\nDict{Element,AbstractFloat} with 3 entries:\n  Element(Iron)     => 0.807719\n  Element(Nickel)   => 0.147793\n  Element(Chromium) => 0.0444878\n\njulia> normalizedmassfraction(ss)\nDict{Element,AbstractFloat} with 3 entries:\n  Element(Iron)     => 0.804124\n  Element(Nickel)   => 0.154639\n  Element(Chromium) => 0.0412371\n\njulia> asnormalized(ss)\nN[Stainless,1.0][Fe=0.8041,Ni=0.1546,Cr=0.0412]\n","category":"page"},{"location":"gettingstarted/","page":"Getting Started","title":"Getting Started","text":"compare(ss, asnormalized(ss))","category":"page"},{"location":"gettingstarted/","page":"Getting Started","title":"Getting Started","text":"3×11 DataFrame\n│ Row │ Unkown    │ Known            │ Elm    │ Cknown    │ Cresult │ ΔC   \n      │ ΔCoC    │ Aknown    │ Aresult   │ ΔA          │ ΔAoA        │\n│     │ String    │ String           │ String │ Float64   │ Float64 │ Float\n64    │ Float64 │ Float64   │ Float64   │ Float64     │ Float64     │\n├─────┼───────────┼──────────────────┼────────┼───────────┼─────────┼──────\n──────┼─────────┼───────────┼───────────┼─────────────┼─────────────┤\n│ 1   │ Stainless │ N[Stainless,1.0] │ Fe     │ 0.804124  │ 0.78    │ 0.024\n1237  │ 0.03    │ 0.807719  │ 0.807719  │ 2.22045e-16 │ 2.74903e-14 │\n│ 2   │ Stainless │ N[Stainless,1.0] │ Ni     │ 0.154639  │ 0.15    │ 0.004\n63918 │ 0.03    │ 0.147793  │ 0.147793  │ 5.55112e-17 │ 3.75601e-14 │\n│ 3   │ Stainless │ N[Stainless,1.0] │ Cr     │ 0.0412371 │ 0.04    │ 0.001\n23711 │ 0.03    │ 0.0444878 │ 0.0444878 │ 2.08167e-17 │ 4.67919e-14 │","category":"page"},{"location":"gettingstarted/","page":"Getting Started","title":"Getting Started","text":"It is also possible to define materials using NeXLUncertainties.UncertainValues.  However, it is better to use the full uncertainty calculation to perform transforms since this handles correlated quantities correctly.","category":"page"},{"location":"gettingstarted/","page":"Getting Started","title":"Getting Started","text":"julia> ss=material(\"Stainless\",n\"Fe\"=>uv(0.79,0.01),n\"Ni\"=>uv(0.15,0.003),n\"Cr\"=>uv(0.04,0.002))\nStainless[Fe=0.7900,Ni=0.1500,Cr=0.0400]\n\njulia> ss[n\"Fe\"]\n0.79 ± 0.01\n\njulia> atomicfraction(ss)[n\"Fe\"]\n0.8097 ± 0.01\n","category":"page"},{"location":"gettingstarted/#SubShell","page":"Getting Started","title":"SubShell","text":"","category":"section"},{"location":"gettingstarted/","page":"Getting Started","title":"Getting Started","text":"SubShell objects are not often used directly but are occasionally returned by other methods so I'll just mention them in passing.  SubShell represent the notion of a sub-shell independent of which element it is associated with.  There are properties of sub-shells that don't depend on the element like the angular momentum quantum numbers.","category":"page"},{"location":"gettingstarted/","page":"Getting Started","title":"Getting Started","text":"ss = n\"L3\"\nshell(ss) # Shells are identified by a Char\nNeXLCore.n(ss), NeXLCore.l(ss), NeXLCore.j(ss)\nallsubshells\nksubshells, lsubshells, msubshells, nsubshells\n```\nThere is one gotcha with `SubShell`s and the `n\"??\"` notation.  What is `n\"K\"`? Potassium or the K-subshell?  The answer\nfor `NeXL` is potassium.  The K-subshell is `n\"K1\"` like the first L-subshell is `n\"L1\"`.  (This is rarely ever an\nissue)","category":"page"},{"location":"gettingstarted/","page":"Getting Started","title":"Getting Started","text":"julia julia> n\"K1\", n\"K\" (K, Element(Potassium))","category":"page"},{"location":"gettingstarted/","page":"Getting Started","title":"Getting Started","text":"\n\n\n\n\n#### AtomicSubShell\n`AtomicSubShell` joins an `Element` to a `SubShell`.  You'll only be permitted to create `AtomicSubShell` objects\nfor sub-shells which exist for the ground state of the element.\n(X-ray microanalysis only deals with ground state atoms.  Astronomers and plasma physicists not so much...)\n","category":"page"},{"location":"gettingstarted/","page":"Getting Started","title":"Getting Started","text":"julia julia> ass = n\"Fe L3\" Fe L3","category":"page"},{"location":"gettingstarted/","page":"Getting Started","title":"Getting Started","text":"julia> shell(ass), ass.subshell (Shell[L], L3)","category":"page"},{"location":"gettingstarted/","page":"Getting Started","title":"Getting Started","text":"julia> jumpratio(ass) 6.34014793507294","category":"page"},{"location":"gettingstarted/","page":"Getting Started","title":"Getting Started","text":"julia> has(n\"C\",n\"L3\"), has(n\"C\",n\"L2\")  # Carbon Kα1 is K-L2!!! (false, true)","category":"page"},{"location":"gettingstarted/","page":"Getting Started","title":"Getting Started","text":"julia> n\"C L2\" # works while n\"C L3\" throws an exception C L2","category":"page"},{"location":"gettingstarted/","page":"Getting Started","title":"Getting Started","text":"julia> energy(ass), energy(n\"Ca K\") (708.0999999999999, 4038.1)","category":"page"},{"location":"gettingstarted/","page":"Getting Started","title":"Getting Started","text":"julia> kk=n\"K K\" K K","category":"page"},{"location":"gettingstarted/","page":"Getting Started","title":"Getting Started","text":"julia> element(kk), shell(kk), kk.subshell # This works as you'd expect. (Relevant to the earlier gotcha notice...) (Element(Potassium), Shell[K], K)","category":"page"},{"location":"gettingstarted/","page":"Getting Started","title":"Getting Started","text":"\n\n\n\n\n#### Transition\nTransitions are the analog to `SubShell`.  They represent the non-element related information associated with optical\n(in the broad sense) transitions.  You can only create `Transition`s for transitions with a non-negligible transition\nrate in some element.\n","category":"page"},{"location":"gettingstarted/","page":"Getting Started","title":"Getting Started","text":"julia julia> trs = n\"K-L3\", n\"L3-M5\", n\"M5-N7\" (K-L3, L3-M5, M5-N7)","category":"page"},{"location":"gettingstarted/","page":"Getting Started","title":"Getting Started","text":"julia> alltransitions (K-L2, K-L3, K-M2, K-M3, K-M4, K-M5, K-N2, K-N3, K-N4, K-N5, K-O2, K-O3, K-O4, K-O5, K-P2, K-P3, L1-M2, L1-M3, L1-M4, L1-M5, L1-N2, L1-N3, L1-N4, L1-N5, L1-O2, L1-O3, L1-O4, L1-O5, L1-P2, L1-P3, L2-M1, L2-M3, L2-M4, L2-N1, L2-N3, L2-N4, L2-N6, L2-O1, L2-O3, L2-O4, L2-P1, L2-P3, L3-M1, L3-M2, L3-M3, L3-M4, L3-M5, L3-N1, L3-N2, L3-N3, L3-N4, L3-N5, L3-N6, L3-N7, L3-O1, L3-O2, L3-O3, L3-O4, L3-O5, L3-P1, L3-P2, L3-P3, M1-N2, M1-N3, M1-O2, M1-O3, M1-P2, M1-P3, M2-N1, M2-N4, M2-O1, M2-O4, M2-P1, M3-N1, M3-N4, M3-N5, M3-O1, M3-O4, M3-O5, M3-P1, M4-N2, M4-N3, M4-N6, M4-O2, M4-O3, M4-P2, M4-P3, M5-N3, M5-N6, M5-N7, M5-O3, M5-P3)","category":"page"},{"location":"gettingstarted/","page":"Getting Started","title":"Getting Started","text":"julia> ktransitions (K-L2, K-L3, K-M2, K-M3, K-M4, K-M5, K-N2, K-N3, K-N4, K-N5, K-O2, K-O3, K-O4, K-O5, K-P2, K-P3)","category":"page"},{"location":"gettingstarted/","page":"Getting Started","title":"Getting Started","text":"julia> kalpha, kbeta, kother ((K-L2, K-L3), (K-M2, K-M3, K-M4, K-M5), (K-M2, K-M3, K-M4, K-M5, K-N2, K-N3, K-N4, K-N5, K-O2, K-O3, K-O4, K-O5, K-P2, K-P3))","category":"page"},{"location":"gettingstarted/","page":"Getting Started","title":"Getting Started","text":"julia> ltransitions (L1-M2, L1-M3, L1-M4, L1-M5, L1-N2, L1-N3, L1-N4, L1-N5, L1-O2, L1-O3, L1-O4, L1-O5, L1-P2, L1-P3, L2-M1, L2-M3, L2-M4, L2-N1, L2-N3, L2-N4, L2-N6, L2-O1, L2-O3, L2-O4, L2-P1, L2-P3, L3-M1, L3-M2, L3-M3, L3-M4, L3-M5, L3-N1, L3-N2, L3-N3, L3-N4, L3-N5, L3-N6, L3-N7, L3-O1, L3-O2, L3-O3, L3-O4, L3-O5, L3-P1, L3-P2, L3-P3)","category":"page"},{"location":"gettingstarted/","page":"Getting Started","title":"Getting Started","text":"julia> mtransitions (M1-N2, M1-N3, M1-O2, M1-O3, M1-P2, M1-P3, M2-N1, M2-N4, M2-O1, M2-O4, M2-P1, M3-N1, M3-N4, M3-N5, M3-O1, M3-O4, M3-O5, M3-P1, M4-N2, M4-N3, M4-N6, M4-O2, M4-O3, M4-P2, M4-P3, M5-N3, M5-N6, M5-N7, M5-O3, M5-P3)","category":"page"},{"location":"gettingstarted/","page":"Getting Started","title":"Getting Started","text":"julia> shell.( trs ) (Shell[K], Shell[L], Shell[M])","category":"page"},{"location":"gettingstarted/","page":"Getting Started","title":"Getting Started","text":"julia> inner.( trs ) (K, L3, M5)","category":"page"},{"location":"gettingstarted/","page":"Getting Started","title":"Getting Started","text":"julia> outer.( trs ) (L3, M5, N7)","category":"page"},{"location":"gettingstarted/","page":"Getting Started","title":"Getting Started","text":"\n\n\n\nThe lists of transitions will suddenly seem useful in just a minute...\n\n#### CharXRay\nFinally! What we came here for... `CharXRay` represent a specific `Transition` in a specific `Element`.  Again you\ncan only create `CharXRay` objects for characteristic X-rays with non-negligible transition rates. (i.e. Ones that\nyou might see in a X-ray spectrum or wavescan.)\n\nFirst, let's create some characteristic X-rays using `n\"??\"` notation or `characteristic(...)`","category":"page"},{"location":"gettingstarted/","page":"Getting Started","title":"Getting Started","text":"julia julia> feka1, fela = n\"Fe K-L3\", n\"Fe L3-M5\" (Fe K-L3, Fe L3-M5)","category":"page"},{"location":"gettingstarted/","page":"Getting Started","title":"Getting Started","text":"julia> feka = characteristic(n\"Fe\",kalpha) # Filters kalpha to produce only those CharXRay that exist for Fe 2-element Array{CharXRay,1}:  Fe K-L2  Fe K-L3","category":"page"},{"location":"gettingstarted/","page":"Getting Started","title":"Getting Started","text":"julia> fekb = characteristic(n\"Fe\",kbeta) 4-element Array{CharXRay,1}:  Fe K-M2  Fe K-M3  Fe K-M4  Fe K-M5","category":"page"},{"location":"gettingstarted/","page":"Getting Started","title":"Getting Started","text":"\n\n\n\n\nSome properties of characteristic X-rays:","category":"page"},{"location":"gettingstarted/","page":"Getting Started","title":"Getting Started","text":"julia julia> inner.(feka) 2-element Array{AtomicSubShell,1}:  Fe K  Fe K","category":"page"},{"location":"gettingstarted/","page":"Getting Started","title":"Getting Started","text":"julia> outer.(feka) 2-element Array{AtomicSubShell,1}:  Fe L2  Fe L3","category":"page"},{"location":"gettingstarted/","page":"Getting Started","title":"Getting Started","text":"julia> transition.(feka) 2-element Array{Transition,1}:  K-L2  K-L3","category":"page"},{"location":"gettingstarted/","page":"Getting Started","title":"Getting Started","text":"julia> all(s->s==Shell(1), shell.(feka)) true","category":"page"},{"location":"gettingstarted/","page":"Getting Started","title":"Getting Started","text":"julia> all(e->e==n\"Fe\", element.(feka)) true","category":"page"},{"location":"gettingstarted/","page":"Getting Started","title":"Getting Started","text":"\n\n\n\n\nLet's extract some energy-related properties from these objects.  Of course, it is in eV.","category":"page"},{"location":"gettingstarted/","page":"Getting Started","title":"Getting Started","text":"julia julia> energy.(feka) # The x-ray energy 2-element Array{Float64,1}:  6390.9  6403.9","category":"page"},{"location":"gettingstarted/","page":"Getting Started","title":"Getting Started","text":"julia> edgeenergy.(feka) # ionization edge energy 2-element Array{Float64,1}:  7112.0  7112.0","category":"page"},{"location":"gettingstarted/","page":"Getting Started","title":"Getting Started","text":"\n\n\n\n\nOften we want to know the relative line-weights of the transitions.","category":"page"},{"location":"gettingstarted/","page":"Getting Started","title":"Getting Started","text":"julia julia> normweight.(characteristic(n\"Fe\", ktransitions)) # sum(...)=1 6-element Array{Float64,1}:  0.30154168064716697  0.5907083508331229  0.036316387945901134  0.07138962415597284  1.7874023761566593e-5  2.6082394074698673e-5","category":"page"},{"location":"gettingstarted/","page":"Getting Started","title":"Getting Started","text":"julia> strength.(characteristic(n\"Fe\", ktransitions)) # Not normalized 6-element Array{Float64,1}:  0.10139102  0.19862104  0.0122111  0.0240042  6.01e-6  8.77e-6","category":"page"},{"location":"gettingstarted/","page":"Getting Started","title":"Getting Started","text":"julia> brightest(characteristic(n\"Fe\", ltransitions)) Fe L3-M5","category":"page"},{"location":"gettingstarted/","page":"Getting Started","title":"Getting Started","text":"\n\n\n\n\nSome other X-ray related properties...","category":"page"},{"location":"gettingstarted/","page":"Getting Started","title":"Getting Started","text":"julia julia> λ.(feka)  # this is \\lambda (wavelength in cm) 2-element Array{Float64,1}:  1.9400114694331004e-8  1.9360732210059497e-8","category":"page"},{"location":"gettingstarted/","page":"Getting Started","title":"Getting Started","text":"julia> ν.(feka)  # this is \\nu (frequency in 1/s) 2-element Array{Float64,1}:  1.5453127450692544e18  1.5484561310846671e18","category":"page"},{"location":"gettingstarted/","page":"Getting Started","title":"Getting Started","text":"julia> ω.(feka)  # this is \\omega (angular frequency in radian/s) 2-element Array{Float64,1}:  9.709486334816494e18  9.729236811643329e18","category":"page"},{"location":"gettingstarted/","page":"Getting Started","title":"Getting Started","text":"julia> wavenumber.(feka) # In 1/cm 2-element Array{Float64,1}:  5.154608700804303e7  5.165093908382337e7","category":"page"},{"location":"gettingstarted/","page":"Getting Started","title":"Getting Started","text":"\n\n\n\n\nFinally, mass absorption coefficients.  MACs quantify the degree to which X-rays are absorbed as they travel through\nmaterial. MACs are available for `Element` or for `Material`.  Here we are accepting the default\n([FFAST](https://www.nist.gov/pml/x-ray-form-factor-attenuation-and-scattering-tables)) algorithm\nfor the MACs except in the last line.","category":"page"},{"location":"gettingstarted/","page":"Getting Started","title":"Getting Started","text":"julia julia> mac( n\"Ni\", n\"Fe K-L3\") # In cm²/g 83.48344476953369","category":"page"},{"location":"gettingstarted/","page":"Getting Started","title":"Getting Started","text":"julia> Dict(map(cxr->(cxr=>( mac(n\"Ni\",cxr), weight(cxr))), characteristic(n\"Ni\", ltransitions))) Dict{CharXRay,Tuple{Float64,Float64}} with 12 entries:   Ni L1-M2 => (11241.6, 0.063308)   Ni L2-M3 => (1910.69, 0.00233952)   Ni L3-M5 => (1693.36, 1.0)   Ni L1-M5 => (9496.52, 0.000298443)   Ni L3-M1 => (2255.04, 0.170298)   Ni L3-M3 => (1999.76, 0.0023918)   Ni L2-M1 => (2149.34, 0.0873993)   Ni L2-M4 => (9677.04, 0.52428)   Ni L1-M3 => (11241.6, 0.0969139)   Ni L1-M4 => (9496.52, 0.000227338)   Ni L3-M4 => (1693.36, 0.0918605)   Ni L3-M2 => (1999.76, 0.00246174)","category":"page"},{"location":"gettingstarted/","page":"Getting Started","title":"Getting Started","text":"julia> mac( mat\"0.8Fe+0.15Ni+0.05*Cr\", n\"C K-L2\") # Carbon K-L3 in stainless steel (interpreted as mass fractions of elements) 12220.92856189755","category":"page"},{"location":"gettingstarted/","page":"Getting Started","title":"Getting Started","text":"julia> mac( mat\"AlNaSi3O8\", n\"O K-L3\") # O K-L3 in Albite (interpreted as a chemical formular) 3834.2955800593218","category":"page"},{"location":"gettingstarted/","page":"Getting Started","title":"Getting Started","text":"julia> mac( mat\"AlNaSi3O8\", n\"O K-L3\", NeXLCore.FFASTDB), mac( mat\"AlNaSi3O8\", n\"O K-L3\", NeXLCore.DTSA) # Compare and contrast... (3834.2955800593218, 4111.003591230517)","category":"page"},{"location":"gettingstarted/","page":"Getting Started","title":"Getting Started","text":"\n\n\n\n\n#### KRatio\nk-ratios are the core quantity for X-ray microanalysis.  We measure intensities but k-ratios make the intensities\nmeaningful.","category":"page"},{"location":"gettingstarted/","page":"Getting Started","title":"Getting Started","text":"julia kr = KRatio(       [n\"Fe K-L3\", n\"Fe K-L2\" ],       Dict(:BeamEnergy=>20.0e3, :TakeOffAngle=>deg2rad(40.0)), # Unknown properties       Dict(:BeamEnergy=>20.0e3, :TakeOffAngle=>deg2rad(40.0)), # Standard properties       mat\"Fe2O3\", # Standard composition       uv(0.343563,0.0123105)) # The k-ratio value","category":"page"},{"location":"gettingstarted/","page":"Getting Started","title":"Getting Started","text":"\n","category":"page"},{"location":"gettingstarted/","page":"Getting Started","title":"Getting Started","text":"k[Fe2O3, Fe K-L3 + 1 other] = 0.3436 ± 0.012","category":"page"},{"location":"gettingstarted/","page":"Getting Started","title":"Getting Started","text":"\n\n\n\n\nCombine k-ratios together in `Vector`.","category":"page"},{"location":"gettingstarted/","page":"Getting Started","title":"Getting Started","text":"julia props =  ( Dict(:BeamEnergy=>20.0e3, :TakeOffAngle=>deg2rad(40.0)),            Dict(:BeamEnergy=>20.0e3, :TakeOffAngle=>deg2rad(40.0))) krs = [   KRatio(characteristic(n\"O\", ktransitions), props..., mat\"SiO2\", uv(0.984390, 0.00233)),   KRatio(characteristic(n\"Na\", ktransitions), props..., mat\"NaCl\", uv(0.155406, 0.00093)),   KRatio(characteristic(n\"Al\", ktransitions), props..., mat\"Al\", uv(0.068536, 0.000733)),   KRatio(characteristic(n\"Si\", ktransitions), props..., mat\"Si\", uv(0.219054, 0.00023)),   KRatio(characteristic(n\"Th\", mtransitions), props..., mat\"Th\", uv(-0.00023, 0.00046)), ]","category":"page"},{"location":"gettingstarted/","page":"Getting Started","title":"Getting Started","text":"\n","category":"page"},{"location":"gettingstarted/","page":"Getting Started","title":"Getting Started","text":"5-element Array{KRatio,1}:  k[SiO2, O K-L3 + 1 other] = 0.98439 ± 0.0023  k[NaCl, Na K-L3 + 1 other] = 0.15541 ± 0.00093  k[Al, Al K-L3 + 1 other] = 0.06854 ± 0.00073  k[Si, Si K-L3 + 2 others] = 0.21905 ± 0.00023  k[Th, Th M5-N7 + 29 others] = -0.00023 ± 0.00046","category":"page"},{"location":"gettingstarted/","page":"Getting Started","title":"Getting Started","text":"\n\n","category":"page"},{"location":"gettingstarted/","page":"Getting Started","title":"Getting Started","text":"julia julia> nonnegk.(krs) 5-element Array{UncertainValue,1}:  0.98439 ± 0.0023  0.15541 ± 0.00093  0.06854 ± 0.00073  0.21905 ± 0.00023  0.000e+00 ± 4.60e-04","category":"page"},{"location":"gettingstarted/","page":"Getting Started","title":"Getting Started","text":"julia> elms(krs) Set{Element} with 5 elements:   Element(Aluminium)   Element(Silicon)   Element(Sodium)   Element(Oxygen)   Element(Thorium)","category":"page"},{"location":"gettingstarted/","page":"Getting Started","title":"Getting Started","text":"\n\n\n\n\nThere is more but this should get you started.  As always, the code is the ultimate resource and you have it in your\nhands.  Please report any bugs you find at [NeXLCore](https://github.com/NicholasWMRitchie/NeXLCore.jl).\n\n#### Appendix: Plotting with Gadfly\nThere are a number of helpful plotting methods to take an overhead look at various NeXLCore attributes.\n\nPlot the X-ray energy for all transitions in all elements","category":"page"},{"location":"gettingstarted/","page":"Getting Started","title":"Getting Started","text":"julia using Gadfly display(plot(collect(ktransitions), mode = :Energy))","category":"page"},{"location":"gettingstarted/","page":"Getting Started","title":"Getting Started","text":"\n\n![](figures/gettingstarted_25_1.svg)\n","category":"page"},{"location":"gettingstarted/","page":"Getting Started","title":"Getting Started","text":"julia display(plot(collect(ltransitions), mode = :Energy))","category":"page"},{"location":"gettingstarted/","page":"Getting Started","title":"Getting Started","text":"\n\n![](figures/gettingstarted_25_2.svg)\n","category":"page"},{"location":"gettingstarted/","page":"Getting Started","title":"Getting Started","text":"julia display(plot(collect(mtransitions), mode = :Energy))","category":"page"},{"location":"gettingstarted/","page":"Getting Started","title":"Getting Started","text":"\n\n![](figures/gettingstarted_25_3.svg)\n\n\n\nPlot the X-ray line weight for all transitions","category":"page"},{"location":"gettingstarted/","page":"Getting Started","title":"Getting Started","text":"julia display(plot(collect(ktransitions), mode = :Weight))","category":"page"},{"location":"gettingstarted/","page":"Getting Started","title":"Getting Started","text":"\n\n![](figures/gettingstarted_26_1.svg)\n","category":"page"},{"location":"gettingstarted/","page":"Getting Started","title":"Getting Started","text":"julia display(plot(collect(ltransitions), mode = :Weight))","category":"page"},{"location":"gettingstarted/","page":"Getting Started","title":"Getting Started","text":"\n\n![](figures/gettingstarted_26_2.svg)\n","category":"page"},{"location":"gettingstarted/","page":"Getting Started","title":"Getting Started","text":"julia display(plot(collect(mtransitions), mode = :Weight))","category":"page"},{"location":"gettingstarted/","page":"Getting Started","title":"Getting Started","text":"\n\n![](figures/gettingstarted_26_3.svg)\n\n\n\nPlot the edge energy for all subshells in all elements.","category":"page"},{"location":"gettingstarted/","page":"Getting Started","title":"Getting Started","text":"julia display(plot(collect(ksubshells), :EdgeEnergy))","category":"page"},{"location":"gettingstarted/","page":"Getting Started","title":"Getting Started","text":"\n\n![](figures/gettingstarted_27_1.svg)\n","category":"page"},{"location":"gettingstarted/","page":"Getting Started","title":"Getting Started","text":"julia display(plot(collect(lsubshells), :EdgeEnergy))","category":"page"},{"location":"gettingstarted/","page":"Getting Started","title":"Getting Started","text":"\n\n![](figures/gettingstarted_27_2.svg)\n","category":"page"},{"location":"gettingstarted/","page":"Getting Started","title":"Getting Started","text":"julia display(plot(collect(msubshells), :EdgeEnergy))","category":"page"},{"location":"gettingstarted/","page":"Getting Started","title":"Getting Started","text":"\n\n![](figures/gettingstarted_27_3.svg)\n\n\n\nPlot the fluorescence yield for all subshells in all elements.","category":"page"},{"location":"gettingstarted/","page":"Getting Started","title":"Getting Started","text":"julia display(plot(collect(ksubshells), :FluorescenceYield))","category":"page"},{"location":"gettingstarted/","page":"Getting Started","title":"Getting Started","text":"\n\n![](figures/gettingstarted_28_1.svg)\n","category":"page"},{"location":"gettingstarted/","page":"Getting Started","title":"Getting Started","text":"julia display(plot(collect(lsubshells), :FluorescenceYield))","category":"page"},{"location":"gettingstarted/","page":"Getting Started","title":"Getting Started","text":"\n\n![](figures/gettingstarted_28_2.svg)\n","category":"page"},{"location":"gettingstarted/","page":"Getting Started","title":"Getting Started","text":"julia display(plot(collect(msubshells), :FluorescenceYield))","category":"page"},{"location":"gettingstarted/","page":"Getting Started","title":"Getting Started","text":"\n\n![](figures/gettingstarted_28_3.svg)\n\n\n\n\nFinally, to compare MAC algorithms...","category":"page"},{"location":"gettingstarted/","page":"Getting Started","title":"Getting Started","text":"julia display(NeXLCore.compareMACs(n\"C\"))","category":"page"},{"location":"gettingstarted/","page":"Getting Started","title":"Getting Started","text":"\n\n![](figures/gettingstarted_29_1.svg)\n","category":"page"},{"location":"gettingstarted/","page":"Getting Started","title":"Getting Started","text":"julia display(NeXLCore.compareMACs(n\"U\"))","category":"page"},{"location":"gettingstarted/","page":"Getting Started","title":"Getting Started","text":"\n\n![](figures/gettingstarted_29_2.svg)\n\n\nOr MAC algorithms one at a time...","category":"page"},{"location":"gettingstarted/","page":"Getting Started","title":"Getting Started","text":"julia display(plot(NeXLCore.FFASTDB, n\"Ag\"))","category":"page"},{"location":"gettingstarted/","page":"Getting Started","title":"Getting Started","text":"\n\n![](figures/gettingstarted_30_1.svg)\n","category":"page"},{"location":"gettingstarted/","page":"Getting Started","title":"Getting Started","text":"julia display(plot(NeXLCore.DTSA, n\"Au\"))","category":"page"},{"location":"gettingstarted/","page":"Getting Started","title":"Getting Started","text":"\n\n![](figures/gettingstarted_30_2.svg)\n\n\nOr many elements at once...","category":"page"},{"location":"gettingstarted/","page":"Getting Started","title":"Getting Started","text":"julia plot(NeXLCore.FFASTDB, collect(keys(albite)),xmax=5.0e3)","category":"page"},{"location":"gettingstarted/","page":"Getting Started","title":"Getting Started","text":"\n\n![](figures/gettingstarted_31_1.svg)\n\n\n\nOr a Material MAC...","category":"page"},{"location":"gettingstarted/","page":"Getting Started","title":"Getting Started","text":"julia plot(NeXLCore.FFASTDB, [keys(albite)..., albite], xmax=5.0e3) ````","category":"page"},{"location":"gettingstarted/","page":"Getting Started","title":"Getting Started","text":"(Image: )","category":"page"},{"location":"eta/#Comparing-η-(Backscatter-Coefficient)-Expressions","page":"Backscatter","title":"Comparing η (Backscatter Coefficient) Expressions","text":"","category":"section"},{"location":"eta/","page":"Backscatter","title":"Backscatter","text":"using NeXLCore\nusing Gadfly","category":"page"},{"location":"eta/","page":"Backscatter","title":"Backscatter","text":"It seems that Donovan used measured values of the backscatter coefficient for Cu, Ag and Au in his paper (Donovan, John J., Nicholas E. Pingitore, and Andrew Westphal. Compositional averaging of backscatter intensities in compounds. Microscopy and Microanalysis 9, no. 3 (2003): 202-215.)","category":"page"},{"location":"eta/","page":"Backscatter","title":"Backscatter","text":"struct Donovanη <: NeXLCore.BackscatterCoefficient end\n\n# Use Donovan's measured Cu, Ag and Au values\nfunction NeXLCore.η(::Type{Donovanη}, elm::Element, e0::Float64)\n    if elm==n\"Au\"\n        return 0.48523489932885905\n    elseif elm==n\"Cu\"\n        return 0.31744966442953015\n    elseif elm==n\"Ag\"\n        return 0.4118568232662192\n    else\n        return NaN64\n    end\nend","category":"page"},{"location":"eta/","page":"Backscatter","title":"Backscatter","text":"Compare the measured backscatter coefficient with various empirical expressions.","category":"page"},{"location":"eta/","page":"Backscatter","title":"Backscatter","text":"elms = elements[1:99]\nalgs = ( Donovanη, LoveScott1978η, August1989η, Pouchou1991η, Tomlin1963 )\nlyrs = map(l->layer(x=z.(elms), y=map(elm->η(l[1], elm, 15.0e3), elms), Gadfly.Theme(default_color = l[2])), zip(algs, NeXLPalette[1:5]))\nplot(lyrs..., Guide.xlabel(\"Atomic Number\"), Guide.ylabel(\"η\"), #\n    Guide.manual_color_key(\"Algorithm\", [ repr.(algs)... ], color = NeXLPalette[1:5]))","category":"page"},{"location":"eta/","page":"Backscatter","title":"Backscatter","text":"(Image: )","category":"page"},{"location":"eta/","page":"Backscatter","title":"Backscatter","text":"Compare the empirical expressions with measured values taken from Donovan's paper.","category":"page"},{"location":"eta/","page":"Backscatter","title":"Backscatter","text":"#These values are extracted from Figure 2c in Donovan.\ndonovanelastic = (\n ( \"20Au80Cu\", \"0.201*Au+0.798*Cu\", 0.3577, 0.3569 ),\n ( \"40Au60Cu\", \"0.401*Au+0.599*Cu\", 0.3949, 0.3928 ),\n ( \"60Au40Cu\", \"0.603*Au+0.396*Cu\", 0.4326, 0.4264 ),\n ( \"80Au20Cu\", \"0.801*Au+0.198*Cu\", 0.4679, 0.4569 ),\n ( \"20Au80Ag\", \"0.224*Au+0.775*Ag\", 0.4290, 0.4297 ),\n ( \"40Au60Ag\", \"0.400*Au+0.599*Ag\", 0.4386, 0.4427 ),\n ( \"60Au40Ag\", \"0.600*Au+0.399*Ag\", 0.4604, 0.4575 ),\n ( \"80Au20Ag\", \"0.800*Au+0.199*Ag\", 0.4829, 0.4714 ))\n\ndata = layer(x=collect(map(de->de[3], donovanelastic)), y=collect(map(de->de[4], donovanelastic)), shape=[Shape.star1], Gadfly.Theme(default_color=NeXLPalette[6]))\ncalcs = map(l->layer(x=collect(map(de->de[3], donovanelastic)), y=collect(map(de->η(l[1], parse(Material,de[2]), 20.0e3), donovanelastic)), Gadfly.Theme(default_color=l[2])), zip(algs, NeXLPalette[1:4]))\n# map(de->η(Donovanη, parse(Material, de[2]), 20.0e3), donovanelastic)\nplot(data, calcs..., Guide.xlabel(\"Measured\"), Guide.ylabel(\"Computed\"), #\n    Guide.manual_color_key(\"Algorithm\", [ repr.(algs)...,\"Data\" ], color = NeXLPalette[1:6]),\n    Geom.abline(color=\"red\", style=:dash), intercept=[0,], slope=[1,])","category":"page"},{"location":"eta/","page":"Backscatter","title":"Backscatter","text":"(Image: )","category":"page"},{"location":"eta/","page":"Backscatter","title":"Backscatter","text":"This plot demonstrates that Dononvan used the measured values for the Au, Ag and Cu backscatter coefficients for the computations in his article.","category":"page"},{"location":"eta/","page":"Backscatter","title":"Backscatter","text":"display(plot(x=collect(map(de->de[4], donovanelastic)), y=collect(map(de->η(Donovanη, parse(Material,de[2]), 20.0e3), donovanelastic)),\n    Geom.point, Guide.xlabel(\"Article\"), Guide.ylabel(\"Computed\"), #\n        intercept=[0], slope=[1], Geom.abline(color=\"red\", style=:dash)))","category":"page"},{"location":"eta/","page":"Backscatter","title":"Backscatter","text":"(Image: )","category":"page"},{"location":"eta/","page":"Backscatter","title":"Backscatter","text":"Compare to backscatter data extracted from Figure 1 in August 1989. August, H‐J., and J. Wernisch. Analytical expressions for the electron backscattering coefficient. Physica Status Solidi (a) 114, no. 2 (1989): 629-633.","category":"page"},{"location":"eta/","page":"Backscatter","title":"Backscatter","text":"backscatterdata = (\n  ( n\"C\", 3.977556222841125, 0.08356768966987504 ),\n  ( n\"C\", 5.038510038011086, 0.08062840761673218 ),\n  ( n\"C\", 7.389708884070725, 0.07251136250238138 ),\n  ( n\"C\", 9.888325425696948, 0.06740617430668328 ),\n  ( n\"C\", 15.036604947791457, 0.05720486977347572 ),\n  ( n\"C\", 19.956500439985124, 0.048491349983217136 ),\n  ( n\"C\", 30.83002966497628, 0.05064591630303639 ),\n  ( n\"C\", 40.95195543903258, 0.04975233827144809 ),\n  ( n\"Si\", 3.9070225254238835, 0.2044343242826428 ),\n  ( n\"Si\", 4.909689651731364, 0.18722727726320182 ),\n  ( n\"Si\", 7.482922226959749, 0.18287732126171402 ),\n  ( n\"Si\", 9.908737106621547, 0.17551550834157365 ),\n  ( n\"Si\", 15.134354219774838, 0.16381734720722846 ),\n  ( n\"Si\", 17.230860647186365, 0.17895827852419005 ),\n  ( n\"Si\", 20.277190626956124, 0.15812022026471678 ),\n  ( n\"Si\", 30.932314866054014, 0.15350491241120917 ),\n  ( n\"Si\", 25.101604811713585, 0.16591748237791543 ),\n  ( n\"Si\", 40.913173245275836, 0.14434460360515639 ),\n  ( n\"Cu\", 3.9802777802977403, 0.33131560087452716 ),\n  ( n\"Cu\", 5.045767524562056, 0.32462283749580423 ),\n  ( n\"Cu\", 7.472489590042729, 0.3165103283105478 ),\n  ( n\"Cu\", 9.891046983153558, 0.3151540855113353 ),\n  ( n\"Cu\", 15.10940660975588, 0.30946149449791804 ),\n  ( n\"Cu\", 19.948335767615283, 0.3052476163692609 ),\n  ( n\"Cu\", 30.829122479157412, 0.3013966125681523 ),\n  ( n\"Cu\", 40.806352115103735, 0.2952390888225635 ),\n  ( n\"Ag\", 3.9058885431502954, 0.39287269461403784 ),\n  ( n\"Ag\", 4.887690395623737, 0.39293166169226446 ),\n  ( n\"Ag\", 7.681142328383123, 0.3938501873338716 ),\n  ( n\"Ag\", 9.872222877411982, 0.39323103301249196 ),\n  ( n\"Ag\", 15.157941051065492, 0.39429924431421287 ),\n  ( n\"Ag\", 19.988705536555056, 0.39684163257159966 ),\n  ( n\"Ag\", 30.71481706597963, 0.3959843419727663 ),\n  ( n\"Ag\", 39.92320672043255, 0.40104190291297365 ),\n  ( n\"Ag\", 3.910651268699368, 0.4514315392221789 ),\n  ( n\"Ag\", 40.8376500258548, 0.39434006767606206 ),\n  ( n\"Au\", 5.1727735392040355, 0.46952536037956655 ),\n  ( n\"Au\", 7.4457276083860275, 0.46365586813146936 ),\n  ( n\"Au\", 9.999002095599241, 0.47582122996253323 ),\n  ( n\"Au\", 15.123694786403103, 0.48513802832234126 ),\n  ( n\"Au\", 20.032704048770313, 0.48543286371347444 ),\n  ( n\"Au\", 25.07461603360216, 0.500750696265116 ),\n  ( n\"Au\", 30.828895682702694, 0.4890842866344313 ),\n  ( n\"Au\", 40.86804075078699, 0.4941917427946766 ),\n  ( n\"C\", 19.639892589199047, 0.060484346508695386 ),\n  ( n\"C\", 29.76907584980632, 0.05358519835617925 ),\n  ( n\"C\", 39.96561765746478, 0.053446852518801324 ),\n  ( n\"C\", 48.729032667761345, 0.05172093149839885 ),\n  ( n\"Si\", 19.741270604457913, 0.1640940388819842 ),\n  ( n\"Si\", 29.794023459825283, 0.15794105106548972 ),\n  ( n\"Si\", 39.76943872413387, 0.15328491985013287 ),\n  ( n\"Si\", 48.83766816957118, 0.14932505375075977 ),\n  ( n\"Cu\", 9.887418239878073, 0.3181568705717992 ),\n  ( n\"Cu\", 15.108499423937008, 0.310212190763034 ),\n  ( n\"Cu\", 19.86827661909989, 0.3089965617657464 ),\n  ( n\"Cu\", 29.841877511770733, 0.3058418230806216 ),\n  ( n\"Cu\", 39.890094438043754, 0.30344231658970705 ),\n  ( n\"Cu\", 48.88642940733551, 0.2964751295007756 ),\n  ( n\"Ag\", 19.74671371937114, 0.40958986129128827 ),\n  ( n\"Ag\", 25.04241093703223, 0.4024004136767334 ),\n  ( n\"Ag\", 29.795837831463018, 0.40643965853525776 ),\n  ( n\"Ag\", 48.83494661211457, 0.40157714254610766 ),\n  ( n\"Au\", 9.989023051591658, 0.48407888887880907 ),\n  ( n\"Au\", 19.783454745035428, 0.504186662554091 ),\n  ( n\"Au\", 29.74616940787982, 0.5100402790503579 ),\n  ( n\"Au\", 39.94361840135715, 0.509151236947864 ),\n  ( n\"Au\", 49.0810207654834, 0.5104507806333971 ),\n  ( n\"C\", 4.804682893197015, 0.08662036995037692 ),\n  ( n\"C\", 9.731835871941648, 0.07190128003919039 ),\n  ( n\"C\", 29.683573586377705, 0.06183832134336076 ),\n  ( n\"Si\", 5.048035489109235, 0.1977460968330143 ),\n  ( n\"Si\", 9.896036505157351, 0.18602525605319736 ),\n  ( n\"Si\", 29.712149939672138, 0.16319138899220725 ),\n  ( n\"Cu\", 4.936678429842786, 0.3523940633760013 ),\n  ( n\"Cu\", 10.013063475791746, 0.3391854378532355 ),\n  ( n\"Cu\", 29.824640981212184, 0.3201050521178253 ),\n  ( n\"Ag\", 4.860474821057599, 0.41545254964574396 ),\n  ( n\"Ag\", 9.91599459317252, 0.41950993822064575 ),\n  ( n\"Ag\", 29.855031706144374, 0.41995672723643984 ),\n  ( n\"Au\", 5.075477860130091, 0.4875375348132558 ),\n  ( n\"Au\", 9.893541744155456, 0.5005896707822663 ),\n  ( n\"Au\", 19.782547559216557, 0.504937358819207 ),\n  ( n\"Au\", 29.733468806415623, 0.5205500267619817 ),\n  ( n\"Si\", 10.880559915087407, 0.18383213433607604 ),\n  ( n\"Si\", 13.298210122379366, 0.18322658780197948 ),\n  ( n\"Si\", 41.34816884542461, 0.15938574448204218 ),\n  ( n\"Cu\", 10.87738476472136, 0.311459571263982 ),\n  ( n\"Cu\", 13.217697380954544, 0.312350881331023 ),\n  ( n\"Cu\", 25.00294835391133, 0.3100557012092787 ),\n  ( n\"Cu\", 41.3250356070434, 0.3035284992424998 ),\n  ( n\"Ag\", 9.103382895918571, 0.40444611769828814 ),\n  ( n\"Ag\", 10.842231314240099, 0.40304905153722637 ),\n  ( n\"Ag\", 13.410020774555253, 0.40320327312643445 ),\n  ( n\"Ag\", 41.43004236557774, 0.40413540655532465 ),\n  ( n\"Au\", 9.159174823779157, 0.48327829739365513 ),\n  ( n\"Au\", 10.817056907766418, 0.4863808728941949 ),\n  ( n\"Au\", 13.380310438987216, 0.490288575808983 ),\n  ( n\"Au\", 17.23018025782221, 0.4920213007230271 ),\n  ( n\"Au\", 41.30847946584899, 0.5047287060808665 ) )\ncalcs = Layer[]\ne0s = 5:5:50\nalgs = ( LoveScott1978η, August1989η, Pouchou1991η, Tomlin1963 )\nfor (alg,col) in zip(algs, NeXLPalette[1:length(algs)]), elm in [n\"C\", n\"Si\", n\"Cu\", n\"Ag\", n\"Au\" ]\n  append!(calcs, layer(x=collect(e0s), y=collect(map(x->η(alg, elm, x*1000.0), e0s)), Geom.line, Gadfly.Theme(default_color=col)))\nend\ndata = layer(x=collect(map(d->d[2],backscatterdata)), y=collect(map(d->d[3],backscatterdata)), Geom.point, Gadfly.Theme(default_color=NeXLPalette[length(algs)+1]) )\nplot(data, calcs..., Guide.manual_color_key(\"Algorithm\", [ repr.(algs)...,\"Data\"], color = NeXLPalette[1:length(algs)+1]))","category":"page"},{"location":"eta/","page":"Backscatter","title":"Backscatter","text":"(Image: )","category":"page"},{"location":"eta/","page":"Backscatter","title":"Backscatter","text":"Overall, August1989η looks the best.","category":"page"},{"location":"fluoryield/#Fluorescence-Yields","page":"Fluorescence Yield","title":"Fluorescence Yields","text":"","category":"section"},{"location":"fluoryield/","page":"Fluorescence Yield","title":"Fluorescence Yield","text":"Let's investigate the fluorescence yield algorithms","category":"page"},{"location":"fluoryield/","page":"Fluorescence Yield","title":"Fluorescence Yield","text":"using NeXLCore\nusing Gadfly\n\nfunction plotyields(sss::SubShell...)\n  x, y, c = Float64[], Float64[], String[]\n  for ss in sss\n    for ass in atomicsubshells(ss)\n      push!(x, z(element(ass)))\n      push!(y,fluorescenceyield(ass, NeXLCore.NeXL))\n      push!(c,repr(ss))\n    end\n  end\n  for ass in atomicsubshells(sss[1])\n    push!(x, z(element(ass)))\n    push!(y, meanfluorescenceyield(element(ass), shell(ass), NeXLCore.Bambynek1972))\n    push!(c, \"Bambynek\")\n  end\n  plot(x=x,y=y,color=c, Scale.y_log10(maxvalue=1.0))\nend\ndisplay(plotyields(ksubshells...))","category":"page"},{"location":"fluoryield/","page":"Fluorescence Yield","title":"Fluorescence Yield","text":"(Image: )","category":"page"},{"location":"fluoryield/","page":"Fluorescence Yield","title":"Fluorescence Yield","text":"display(plotyields(lsubshells...))","category":"page"},{"location":"fluoryield/","page":"Fluorescence Yield","title":"Fluorescence Yield","text":"(Image: )","category":"page"},{"location":"fluoryield/","page":"Fluorescence Yield","title":"Fluorescence Yield","text":"display(plotyields(msubshells...))","category":"page"},{"location":"fluoryield/","page":"Fluorescence Yield","title":"Fluorescence Yield","text":"(Image: )","category":"page"},{"location":"OByStoic/#Oxygen-by-stoichiometry","page":"O by Stoichiometry","title":"Oxygen by stoichiometry","text":"","category":"section"},{"location":"OByStoic/","page":"O by Stoichiometry","title":"O by Stoichiometry","text":"Using the asoxide(...) and obystoichiometry(...) functions","category":"page"},{"location":"OByStoic/","page":"O by Stoichiometry","title":"O by Stoichiometry","text":"using NeXLCore","category":"page"},{"location":"OByStoic/","page":"O by Stoichiometry","title":"O by Stoichiometry","text":"Start with a measured dictionary of mass fractions and use the function obystoichiometry(...) to calculate the mass fraction of oxygen (using the default set of valences.)","category":"page"},{"location":"OByStoic/","page":"O by Stoichiometry","title":"O by Stoichiometry","text":"measured = Dict(n\"Al\"=>0.06986, n\"Si\"=>0.042324, n\"Ca\"=>0.063917, n\"Ti\"=>0.072963, n\"Zn\"=>0.11421, n\"Ge\"=>0.317435)\nmeasured[n\"O\"] = obystoichiometry(measured)","category":"page"},{"location":"OByStoic/","page":"O by Stoichiometry","title":"O by Stoichiometry","text":"0.3524418649089052","category":"page"},{"location":"OByStoic/","page":"O by Stoichiometry","title":"O by Stoichiometry","text":"material(\"ADM-65005a\",measured)","category":"page"},{"location":"OByStoic/","page":"O by Stoichiometry","title":"O by Stoichiometry","text":"ADM-65005a[Zn=0.1142,Al=0.0699,Si=0.0423,Ge=0.3174,O=0.3524,Ti=0.0730,Ca=0.\n0639]","category":"page"},{"location":"OByStoic/","page":"O by Stoichiometry","title":"O by Stoichiometry","text":"The variable NeXLCore.valences contains the default valences.  Copy it and then edit it to use different  assumptions.","category":"page"},{"location":"OByStoic/","page":"O by Stoichiometry","title":"O by Stoichiometry","text":"altvalences=copy([ NeXLCore.valences... ])\naltvalences[z(n\"Fe\")]=3","category":"page"},{"location":"OByStoic/","page":"O by Stoichiometry","title":"O by Stoichiometry","text":"3","category":"page"},{"location":"OByStoic/","page":"O by Stoichiometry","title":"O by Stoichiometry","text":"In one case, FeO, and in the other Fe<sub>2</sub>O<sub>3</sub>.","category":"page"},{"location":"OByStoic/","page":"O by Stoichiometry","title":"O by Stoichiometry","text":"( asoxide(n\"Fe\"), asoxide(n\"Fe\",valences=altvalences) )","category":"page"},{"location":"OByStoic/","page":"O by Stoichiometry","title":"O by Stoichiometry","text":"(FeO[Fe=0.7773,O=0.2227], Fe2O3[Fe=0.6994,O=0.3006])","category":"page"},{"location":"OByStoic/","page":"O by Stoichiometry","title":"O by Stoichiometry","text":"You can add a similar argument to obystoichiometry(...) also.","category":"page"},{"location":"OByStoic/","page":"O by Stoichiometry","title":"O by Stoichiometry","text":"There is a second usage of asoxide(...) when a dictionary is provided.  This calculates a mixture of oxides from the mass fraction of each constituent oxide.  The results is a material and the name of the material makes it pretty clear what was calculated.","category":"page"},{"location":"OByStoic/","page":"O by Stoichiometry","title":"O by Stoichiometry","text":"k412=asoxide(n\"Mg\"=>0.1933,n\"Al\"=>0.0927,n\"Si\"=>0.4535,n\"Ca\"=>0.1525,n\"Fe\"=>0.0996, name=\"K412\")\nk411=asoxide(n\"Mg\"=>0.1467,n\"Si\"=>0.5430,n\"Ca\"=>0.1547,n\"Fe\"=>0.1442, name=\"K411\")\nENV[\"Columns\"]=160\nusing DataFrames\nvcat(asa(DataFrame, k411),asa(DataFrame, k412))","category":"page"},{"location":"OByStoic/","page":"O by Stoichiometry","title":"O by Stoichiometry","text":"11×7 DataFrame\n│ Row │ Material │ Element │ AtomicNumber │ AtomicWeight │ MassFraction │ N\normalizedMassFraction │ AtomicFraction │\n│     │ String   │ String  │ Int64        │ AbstractFlo… │ AbstractFlo… │ A\nbstractFloat          │ AbstractFloat  │\n├─────┼──────────┼─────────┼──────────────┼──────────────┼──────────────┼──\n──────────────────────┼────────────────┤\n│ 1   │ K411     │ O       │ 8            │ 15.999       │ 0.423664     │ 0\n.428549               │ 0.602877       │\n│ 2   │ K411     │ Mg      │ 12           │ 24.305       │ 0.0884662    │ 0\n.0894864              │ 0.0828671      │\n│ 3   │ K411     │ Si      │ 14           │ 28.085       │ 0.253818     │ 0\n.256745               │ 0.205754       │\n│ 4   │ K411     │ Ca      │ 20           │ 40.0784      │ 0.110564     │ 0\n.111839               │ 0.0628062      │\n│ 5   │ K411     │ Fe      │ 26           │ 55.8452      │ 0.112088     │ 0\n.113381               │ 0.0456955      │\n│ 6   │ K412     │ O       │ 8            │ 15.999       │ 0.427576     │ 0\n.431198               │ 0.593982       │\n│ 7   │ K412     │ Mg      │ 12           │ 24.305       │ 0.116568     │ 0\n.117555               │ 0.106595       │\n│ 8   │ K412     │ Al      │ 13           │ 26.9815      │ 0.0490621    │ 0\n.0494777              │ 0.040414       │\n│ 9   │ K412     │ Si      │ 14           │ 28.085       │ 0.211983     │ 0\n.213778               │ 0.167756       │\n│ 10  │ K412     │ Ca      │ 20           │ 40.0784      │ 0.108991     │ 0\n.109915               │ 0.0604414      │\n│ 11  │ K412     │ Fe      │ 26           │ 55.8452      │ 0.0774201    │ 0\n.0780759              │ 0.030812       │","category":"page"},{"location":"OByStoic/","page":"O by Stoichiometry","title":"O by Stoichiometry","text":"asa(DataFrame, [k411, k412] )","category":"page"},{"location":"OByStoic/","page":"O by Stoichiometry","title":"O by Stoichiometry","text":"2×8 DataFrame\n│ Row │ Material │ O        │ Mg        │ Al        │ Si       │ Ca       │\n Fe        │ Total    │\n│     │ String   │ Abstrac… │ Abstract… │ Abstract… │ Abstrac… │ Abstrac… │\n Abstract… │ Abstrac… │\n├─────┼──────────┼──────────┼───────────┼───────────┼──────────┼──────────┼\n───────────┼──────────┤\n│ 1   │ K411     │ 0.423664 │ 0.0884662 │ 0.0       │ 0.253818 │ 0.110564 │\n 0.112088  │ 0.9886   │\n│ 2   │ K412     │ 0.427576 │ 0.116568  │ 0.0490621 │ 0.211983 │ 0.108991 │\n 0.0774201 │ 0.9916   │","category":"page"},{"location":"bremsstrahlung/#Comparing-Bremsstrahlung-Models","page":"Bremsstrahlung","title":"Comparing Bremsstrahlung Models","text":"","category":"section"},{"location":"bremsstrahlung/","page":"Bremsstrahlung","title":"Bremsstrahlung","text":"Bremsstrahlung is the radiation (X-rays) produced when a charged particle (electron) decelerates.  Bremsstrahlung can be produced with any energy less than the incident charged particle's kinetic energy.","category":"page"},{"location":"bremsstrahlung/","page":"Bremsstrahlung","title":"Bremsstrahlung","text":"using NeXLCore  # Implements the algorithms\nusing Gadfly    # Plotting library","category":"page"},{"location":"bremsstrahlung/#Kramer","page":"Bremsstrahlung","title":"Kramer","text":"","category":"section"},{"location":"bremsstrahlung/","page":"Bremsstrahlung","title":"Bremsstrahlung","text":"The original model due Kramer was published in 1923.  This model shows the general structure seen in more recent models. First, the emitted intensity starts at zero at the incident beam energy and increases with decreasing X-ray energy.","category":"page"},{"location":"bremsstrahlung/","page":"Bremsstrahlung","title":"Bremsstrahlung","text":"e0s = [ 2.0e3, 5.0e3, 10.0e3, 20.0e3]\n# The element is iron\ndisplay(plot([ e->bremsstrahlung(Kramers1923, e, e0, n\"Fe\") for e0 in e0s ], 1.0e3, 20.0e3,\n        Guide.xlabel(\"Energy (eV)\"), Guide.ylabel(\"Intensity (arb)\"),\n        Guide.colorkey(title=\"Incident Energy\", labels= map(e0->\"$(e0/1000.0) keV\", e0s))))","category":"page"},{"location":"bremsstrahlung/","page":"Bremsstrahlung","title":"Bremsstrahlung","text":"(Image: )","category":"page"},{"location":"bremsstrahlung/","page":"Bremsstrahlung","title":"Bremsstrahlung","text":"Second, higher Z elements produce more Bremsstrahlung intensity.","category":"page"},{"location":"bremsstrahlung/","page":"Bremsstrahlung","title":"Bremsstrahlung","text":"elems = [n\"C\", n\"Al\", n\"Fe\", n\"Pb\"]\n# Incident beam energy is 20 keV\ndisplay(plot([ e->bremsstrahlung(Kramers1923, e, 20.0e3, elm) for elm in elems ], 2.0e3, 20.0e3,\n        Guide.xlabel(\"Energy (eV)\"), Guide.ylabel(\"Intensity (arb)\"),\n        Guide.colorkey(title=\"Element\", labels= symbol.(elems))))","category":"page"},{"location":"bremsstrahlung/","page":"Bremsstrahlung","title":"Bremsstrahlung","text":"(Image: )","category":"page"},{"location":"bremsstrahlung/","page":"Bremsstrahlung","title":"Bremsstrahlung","text":"The Bremsstrahlung produced by a compound is the atomic-fraction weighted sum of the contributions of each of the elements.","category":"page"},{"location":"bremsstrahlung/","page":"Bremsstrahlung","title":"Bremsstrahlung","text":"mats = [ mat\"Na\", mat\"Al\", mat\"Si\", mat\"O\", mat\"NaAlSi3O8\" ]\n# Incident beam energy is 20 keV\ndisplay(plot([ e->bremsstrahlung(Kramers1923, e, 20.0e3, mat) for mat in mats ], 2.0e3, 20.0e3,\n        Guide.xlabel(\"Energy (eV)\"), Guide.ylabel(\"Intensity (arb)\"),\n        Guide.colorkey(title=\"Material\", labels= name.(mats))))","category":"page"},{"location":"bremsstrahlung/","page":"Bremsstrahlung","title":"Bremsstrahlung","text":"(Image: )","category":"page"},{"location":"bremsstrahlung/#More-Recent-Models","page":"Bremsstrahlung","title":"More Recent Models","text":"","category":"section"},{"location":"bremsstrahlung/","page":"Bremsstrahlung","title":"Bremsstrahlung","text":"More recent models can be divided into two classes - those with adjustable parameters and those without.  The models of Lifshin (1974) and Reed (1975) have an additional fittable parameter that adapts Kramer's expression for atomic number and/or incident beam energy.  The magnitude of this parameter can either be fitted to a measured spectrum or can be pre-determined.","category":"page"},{"location":"bremsstrahlung/","page":"Bremsstrahlung","title":"Bremsstrahlung","text":"# Incident beam energy is 20 keV and element Ti\ndisplay(plot([ e->bremsstrahlung(Lifshin1974, e, 20.0e3, n\"Ti\", a=0.01), e->bremsstrahlung(Reed1975, e, 20.0e3, n\"Ti\", b=0.01) ], #\n        2.0e3, 20.0e3, Guide.xlabel(\"Energy (eV)\"), Guide.ylabel(\"Intensity (arb)\"), #\n        Guide.colorkey(title=\"Author\", labels=[\"Lifshin\",\"Reed\"])))","category":"page"},{"location":"bremsstrahlung/","page":"Bremsstrahlung","title":"Bremsstrahlung","text":"(Image: )","category":"page"},{"location":"bremsstrahlung/","page":"Bremsstrahlung","title":"Bremsstrahlung","text":"The models of Smith (1975), Small (1987), Trincavelli (1997) and Castellano (2004) are fully parameterized save for a single global scale factor.","category":"page"},{"location":"bremsstrahlung/","page":"Bremsstrahlung","title":"Bremsstrahlung","text":"models = [ Smith1975, Small1987, Trincavelli1997, Castellano2004a, Castellano2004b ]\n# Incident beam energy is 20 keV and element Ti\ndisplay(plot([ e->bremsstrahlung(model, e, 20.0e3, n\"Ti\") for model in models ], #\n        2.0e3, 20.0e3, Guide.xlabel(\"Energy (eV)\"), Guide.ylabel(\"Intensity (arb)\"), #\n        Guide.colorkey(title=\"Author\", labels=[\"Smith\",\"Small\",\"Trincavelli\", \"Castellano (a)\", \"Castellano (b)\"])))","category":"page"},{"location":"bremsstrahlung/","page":"Bremsstrahlung","title":"Bremsstrahlung","text":"(Image: )","category":"page"},{"location":"bremsstrahlung/","page":"Bremsstrahlung","title":"Bremsstrahlung","text":"models = [ Smith1975, Small1987, Trincavelli1997, Castellano2004a, Castellano2004b ]\n# Incident beam energy is 5 keV and element Ti\ndisplay(plot([ e->bremsstrahlung(model, e, 5.0e3, n\"Ti\") for model in models ], #\n        1.0e3, 5.0e3, Guide.xlabel(\"Energy (eV)\"), Guide.ylabel(\"Intensity (arb)\"), #\n        Guide.colorkey(title=\"Author\", labels=[\"Smith\",\"Small\",\"Trincavelli\", \"Castellano (a)\", \"Castellano (b)\"])))","category":"page"},{"location":"bremsstrahlung/","page":"Bremsstrahlung","title":"Bremsstrahlung","text":"(Image: )","category":"page"},{"location":"#![](NeXL_sm.png)Core-Part-of-the-NeXL-X-ray-Microanalysis-Library","page":"(Image: )Core - Part of the NeXL X-ray Microanalysis Library","title":"(Image: )Core - Part of the NeXL X-ray Microanalysis Library","text":"","category":"section"},{"location":"#Installing-NeXLCore.jl","page":"(Image: )Core - Part of the NeXL X-ray Microanalysis Library","title":"Installing NeXLCore.jl","text":"","category":"section"},{"location":"","page":"(Image: )Core - Part of the NeXL X-ray Microanalysis Library","title":"(Image: )Core - Part of the NeXL X-ray Microanalysis Library","text":"NeXLCore is available throught the standard Julia registry and can be installed using the standard package manager.","category":"page"},{"location":"","page":"(Image: )Core - Part of the NeXL X-ray Microanalysis Library","title":"(Image: )Core - Part of the NeXL X-ray Microanalysis Library","text":"julia> ]add NeXLCore","category":"page"},{"location":"","page":"(Image: )Core - Part of the NeXL X-ray Microanalysis Library","title":"(Image: )Core - Part of the NeXL X-ray Microanalysis Library","text":"or","category":"page"},{"location":"","page":"(Image: )Core - Part of the NeXL X-ray Microanalysis Library","title":"(Image: )Core - Part of the NeXL X-ray Microanalysis Library","text":"julia> using Pkg\r\njulia> Pkg.add(\"NeXLCore\")","category":"page"},{"location":"#Using-NeXLCore","page":"(Image: )Core - Part of the NeXL X-ray Microanalysis Library","title":"Using NeXLCore","text":"","category":"section"},{"location":"","page":"(Image: )Core - Part of the NeXL X-ray Microanalysis Library","title":"(Image: )Core - Part of the NeXL X-ray Microanalysis Library","text":"NeXLCore provides the core data and algorithms used throughout the NeXL libraries for elemental and X-ray-related data and calculations.","category":"page"},{"location":"#Standards","page":"(Image: )Core - Part of the NeXL X-ray Microanalysis Library","title":"Standards","text":"","category":"section"},{"location":"","page":"(Image: )Core - Part of the NeXL X-ray Microanalysis Library","title":"(Image: )Core - Part of the NeXL X-ray Microanalysis Library","text":"For consistency, function arguments and outputs will be use the following standard (unless otherwise mentioned.)","category":"page"},{"location":"","page":"(Image: )Core - Part of the NeXL X-ray Microanalysis Library","title":"(Image: )Core - Part of the NeXL X-ray Microanalysis Library","text":"All lengths are in centimeters\nAll masses are in grams\nAll energies are in eV\nAll angles are in radians\nMixed units are in combinations of these units (MACs are in cm²/g etc.)","category":"page"},{"location":"","page":"(Image: )Core - Part of the NeXL X-ray Microanalysis Library","title":"(Image: )Core - Part of the NeXL X-ray Microanalysis Library","text":"The special macro n\"...\" has been defined to make constructing objects representing elements, subshells, atomic shells, transitions and characteristic x-rays quick and easy.","category":"page"},{"location":"","page":"(Image: )Core - Part of the NeXL X-ray Microanalysis Library","title":"(Image: )Core - Part of the NeXL X-ray Microanalysis Library","text":"Examples:","category":"page"},{"location":"","page":"(Image: )Core - Part of the NeXL X-ray Microanalysis Library","title":"(Image: )Core - Part of the NeXL X-ray Microanalysis Library","text":"n\"Fe\" == element(26)\r\nn\"L3\" == subshell(\"L3\")\r\nn\"Fe L3\" == atomicsubshell(n\"Fe\",shell(\"L3\"))\r\nn\"L3-M5\" == transition(shell(\"L3\"),shell(\"M5\"))\r\nn\"Fe L3-M5\" == CharXRay(26, transition(shell(\"L3\"),shell(\"M5\")))","category":"page"},{"location":"","page":"(Image: )Core - Part of the NeXL X-ray Microanalysis Library","title":"(Image: )Core - Part of the NeXL X-ray Microanalysis Library","text":"Modules = [NeXLCore]","category":"page"},{"location":"#NeXLCore.allsubshells","page":"(Image: )Core - Part of the NeXL X-ray Microanalysis Library","title":"NeXLCore.allsubshells","text":"allsubshells\n\nA tuple containing all K, L, M, N and O sub-shells\n\n\n\n\n\n","category":"constant"},{"location":"#NeXLCore.alltransitions","page":"(Image: )Core - Part of the NeXL X-ray Microanalysis Library","title":"NeXLCore.alltransitions","text":"alltransitions\n\nA complete list of all the transitions present in one or more elements.\n\n\n\n\n\n","category":"constant"},{"location":"#NeXLCore.kalpha","page":"(Image: )Core - Part of the NeXL X-ray Microanalysis Library","title":"NeXLCore.kalpha","text":"kalpha\n\nA list of K-L? transitions.\n\n\n\n\n\n","category":"constant"},{"location":"#NeXLCore.kbeta","page":"(Image: )Core - Part of the NeXL X-ray Microanalysis Library","title":"NeXLCore.kbeta","text":"kbeta\n\nA list of K-M? transitions.\n\n\n\n\n\n","category":"constant"},{"location":"#NeXLCore.kother","page":"(Image: )Core - Part of the NeXL X-ray Microanalysis Library","title":"NeXLCore.kother","text":"kother\n\nA list of K-!L? transitions.\n\n\n\n\n\n","category":"constant"},{"location":"#NeXLCore.ksubshells","page":"(Image: )Core - Part of the NeXL X-ray Microanalysis Library","title":"NeXLCore.ksubshells","text":"ksubshells\n\nAll K sub-shells ( K )\n\n\n\n\n\n","category":"constant"},{"location":"#NeXLCore.ktransitions","page":"(Image: )Core - Part of the NeXL X-ray Microanalysis Library","title":"NeXLCore.ktransitions","text":"ktransitions\n\nA complete list of all the K-shell transitions.\n\n\n\n\n\n","category":"constant"},{"location":"#NeXLCore.lsubshells","page":"(Image: )Core - Part of the NeXL X-ray Microanalysis Library","title":"NeXLCore.lsubshells","text":"lsubshells\n\nAll L sub-shells ( L1, L2, L3 )\n\n\n\n\n\n","category":"constant"},{"location":"#NeXLCore.ltransitions","page":"(Image: )Core - Part of the NeXL X-ray Microanalysis Library","title":"NeXLCore.ltransitions","text":"ltransitions\n\nA complete list of all the L-shell transitions.\n\n\n\n\n\n","category":"constant"},{"location":"#NeXLCore.msubshells","page":"(Image: )Core - Part of the NeXL X-ray Microanalysis Library","title":"NeXLCore.msubshells","text":"msubshells\n\nAll M sub-shells ( M1, M2,.., M5 )\n\n\n\n\n\n","category":"constant"},{"location":"#NeXLCore.mtransitions","page":"(Image: )Core - Part of the NeXL X-ray Microanalysis Library","title":"NeXLCore.mtransitions","text":"mtransitions\n\nA complete list of all the M-shell transitions.\n\n\n\n\n\n","category":"constant"},{"location":"#NeXLCore.nsubshells","page":"(Image: )Core - Part of the NeXL X-ray Microanalysis Library","title":"NeXLCore.nsubshells","text":"nsubshells\n\nAll N sub-shells ( N1, N2,.., N7 ) ]\n\n\n\n\n\n","category":"constant"},{"location":"#NeXLCore.ntransitions","page":"(Image: )Core - Part of the NeXL X-ray Microanalysis Library","title":"NeXLCore.ntransitions","text":"ntransitions\n\nA complete list of all the N-shell transitions.\n\n\n\n\n\n","category":"constant"},{"location":"#NeXLCore.osubshells","page":"(Image: )Core - Part of the NeXL X-ray Microanalysis Library","title":"NeXLCore.osubshells","text":"osubshells\n\nAll O sub-shells  ( O1, O2,.., O9 )\n\n\n\n\n\n","category":"constant"},{"location":"#NeXLCore.otransitions","page":"(Image: )Core - Part of the NeXL X-ray Microanalysis Library","title":"NeXLCore.otransitions","text":"otransitions\n\nA complete list of all the O-shell transitions.\n\n\n\n\n\n","category":"constant"},{"location":"#NeXLCore.transitions","page":"(Image: )Core - Part of the NeXL X-ray Microanalysis Library","title":"NeXLCore.transitions","text":"transitions[ (inner, outer) ] = N( (inner,outer) ) in xrayweights\n\n\n\n\n\n","category":"constant"},{"location":"#NeXLCore.transitionsbygroup","page":"(Image: )Core - Part of the NeXL X-ray Microanalysis Library","title":"NeXLCore.transitionsbygroup","text":"transitionsbygroup\n\nA Dict{String,Tuple{Transition}} mapping group name into a list of transitions. Keys are \"K\",\"L\",\"M\",\"N\",\"O\" and \"Kα\", \"Ka\", \"Kβ\", \"Kb\" and \"Kother\".\n\n\n\n\n\n","category":"constant"},{"location":"#NeXLCore.transitionsbyshell","page":"(Image: )Core - Part of the NeXL X-ray Microanalysis Library","title":"NeXLCore.transitionsbyshell","text":"transitionsbyshell\n\nA Dict{Char,Tuple{Transition}} mapping shell name into a list of transitions. Keys are Shell objects.\n\n\n\n\n\n","category":"constant"},{"location":"#NeXLCore.xrayweights","page":"(Image: )Core - Part of the NeXL X-ray Microanalysis Library","title":"NeXLCore.xrayweights","text":"xrayweights[ (z, ionized) ] = ( (inner1, outer1, weight1), ...., (innerN, outerN, weightN) )\n\n\n\n\n\n","category":"constant"},{"location":"#NeXLCore.AFtoNMF","page":"(Image: )Core - Part of the NeXL X-ray Microanalysis Library","title":"NeXLCore.AFtoNMF","text":"AFtoNMF\n\nConverts atomic fraction into mass fraction - since the results in by necessity normalized, both the MassFractionLabel and NormMassFractionLabel versions are populated with identical information.\n\n\n\n\n\n","category":"type"},{"location":"#NeXLCore.AtomicSubShell","page":"(Image: )Core - Part of the NeXL X-ray Microanalysis Library","title":"NeXLCore.AtomicSubShell","text":"AtomicSubShell\n\nRepresents a specific ground-state occupied sub-shell in a specific element.\n\n\n\n\n\n","category":"type"},{"location":"#NeXLCore.BackscatterCoefficient","page":"(Image: )Core - Part of the NeXL X-ray Microanalysis Library","title":"NeXLCore.BackscatterCoefficient","text":"η(::Type{<:BackscatterCoefficient}, elm::Element, e0::Real)\n\n\n\n\n\n","category":"type"},{"location":"#NeXLCore.Berger1982","page":"(Image: )Core - Part of the NeXL X-ray Microanalysis Library","title":"NeXLCore.Berger1982","text":"@techreport{berger1982national,   title={National Bureau of Standards, Report NBSIR 82-2550},   author={Berger, MJ and Seltzer, SM},   journal={NBS, Washington, DC},   year={1982},   url={https://nvlpubs.nist.gov/nistpubs/Legacy/IR/nbsir82-2550A.pdf} }\n\nAccording to B&S \"The continuous-slowing-down approximation, i.e., the use of a stopping power to describe the gradual energy loss along the electron track, ceases to be meaningful at energies below several hundred eV.\"\n\n\n\n\n\n","category":"type"},{"location":"#NeXLCore.Bloch1933","page":"(Image: )Core - Part of the NeXL X-ray Microanalysis Library","title":"NeXLCore.Bloch1933","text":"@article{von1933bremsvermogen,   title={Bremsverm{\"o}gen von Atomen mit mehreren Elektronen (Braking capabilities of multi-electron atoms)},   author={von Bloch, F},   journal={Z. Phys},   volume={81},   pages={363},   year={1933} }\n\n\n\n\n\n","category":"type"},{"location":"#NeXLCore.Brizuela1990","page":"(Image: )Core - Part of the NeXL X-ray Microanalysis Library","title":"NeXLCore.Brizuela1990","text":"@article{brizuela1990study,   title={Study of mean excitation energy and K-shell effect for electron probe microanalysis},   author={Brizuela, Horacio and Riveros, Jos{'e} Alberto},   journal={X-Ray Spectrometry},   volume={19},   number={4},   pages={173–176},   year={1990},   publisher={Wiley Online Library} }\n\n\n\n\n\n","category":"type"},{"location":"#NeXLCore.Castellano2004a","page":"(Image: )Core - Part of the NeXL X-ray Microanalysis Library","title":"NeXLCore.Castellano2004a","text":"@article{castellano2004analytical,   title={Analytical model for the bremsstrahlung spectrum in the 0.25–20 keV photon energy range},   author={Castellano, Gustavo and Osan, Janos and Trincavelli, Jorge},   journal={Spectrochimica Acta Part B: Atomic Spectroscopy},   volume={59},   number={3},   pages={313–319},   year={2004},   publisher={Elsevier} }\n\n\n\n\n\n","category":"type"},{"location":"#NeXLCore.CharXRay","page":"(Image: )Core - Part of the NeXL X-ray Microanalysis Library","title":"NeXLCore.CharXRay","text":"CharXRay\n\nRepresents a specific known characteristic X-ray in a specific element.\n\n\n\n\n\n","category":"type"},{"location":"#NeXLCore.ElementByDifference","page":"(Image: )Core - Part of the NeXL X-ray Microanalysis Library","title":"NeXLCore.ElementByDifference","text":"ElementByDifference\n\nComputes one element as the different between a sum of 1.0 mass fraction.  If the sum of the other element's mass fraction is already 1.0 or larger, returns zero.\n\n\n\n\n\n","category":"type"},{"location":"#NeXLCore.ElementByStoichiometry","page":"(Image: )Core - Part of the NeXL X-ray Microanalysis Library","title":"NeXLCore.ElementByStoichiometry","text":"ElementByStoichiometry\n\nComputes the mass-fraction of an element which is related by stoichiometric rules (valence-rules) to the other elements in the material.\n\n\n\n\n\n","category":"type"},{"location":"#NeXLCore.Film","page":"(Image: )Core - Part of the NeXL X-ray Microanalysis Library","title":"NeXLCore.Film","text":"A structure defining a thin film of Material.\n\n\n\n\n\n","category":"type"},{"location":"#NeXLCore.Jensen1937","page":"(Image: )Core - Part of the NeXL X-ray Microanalysis Library","title":"NeXLCore.Jensen1937","text":"@article{jensen1937eigenschwingungen,   title={Eigenschwingungen eines fermi-gases und anwendung auf die blochsche bremsformel f{\"u}r schnelle teilchen},   author={Jensen, Hans},   journal={Zeitschrift f{\"u}r Physik},   volume={106},   number={9-10},   pages={620–632},   year={1937},   publisher={Springer} }\n\n\n\n\n\n","category":"type"},{"location":"#NeXLCore.KRatio","page":"(Image: )Core - Part of the NeXL X-ray Microanalysis Library","title":"NeXLCore.KRatio","text":"KRatio\n\nThe k-ratio is the result of two intensity measurements - one on a standard with known composition and one on an unknown. Each measurement has properties like :BeamEnergy (req), :TakeOffAngle (req), :Coating (opt) that characterize the measurement.\n\nProperties: (These Symbols are intentionally the same used in NeXLSpectrum)\n\n:BeamEnergy incident beam energy in eV\n:TakeOffAngle in radians\n:Coating A NeXLCore.Film object or Film[] detailing a conductive coating\n\n\n\n\n\n","category":"type"},{"location":"#NeXLCore.Kramers1923","page":"(Image: )Core - Part of the NeXL X-ray Microanalysis Library","title":"NeXLCore.Kramers1923","text":"@article{kramers1923,     author = { Kramers, H. A. },     title = {XCIII. On the theory of X-ray absorption and of the continuous X-ray spectrum},     journal = {The London, Edinburgh, and Dublin Philosophical Magazine and Journal of Science},     volume = {46},     number = {275},     pages = {836-871},     year  = {1923},     publisher = {Taylor & Francis},     doi = {10.1080/14786442308565244},     URL = { https://doi.org/10.1080/14786442308565244 },     eprint = { https://doi.org/10.1080/14786442308565244} }\n\n\n\n\n\n","category":"type"},{"location":"#NeXLCore.Lifshin1974","page":"(Image: )Core - Part of the NeXL X-ray Microanalysis Library","title":"NeXLCore.Lifshin1974","text":"@InProceedings{ lifshin1974,     author={Lifshin, E.},     journal=\"Proceedings Ninth National Conference on Electron Probe Analysis, Ottowa, CA\",     year={1974},     volume={174},     number={3}, }\n\n\n\n\n\n","category":"type"},{"location":"#NeXLCore.LoveScott1978η","page":"(Image: )Core - Part of the NeXL X-ray Microanalysis Library","title":"NeXLCore.LoveScott1978η","text":"@article{Love_1978, \tdoi = {10.1088/0022-3727/11/10/002}, \turl = {https://doi.org/10.1088%2F0022-3727%2F11%2F10%2F002}, \tyear = 1978, \tmonth = {jul}, \tpublisher = {{IOP} Publishing}, \tvolume = {11}, \tnumber = {10}, \tpages = {1369–1376}, \tauthor = {G Love and V D Scott}, \ttitle = {Evaluation of a new correction procedure for quantitative electron probe microanalysis}, \tjournal = {Journal of Physics D: Applied Physics}, \tabstract = {A new correction procedure for converting electron-probe microanalysis measurements into \ttrue weight concentration is proposed. It incorporates a new atomic number correction and an absorption \tcorrection based upon Bishop's model (1974). Unlike earlier treatments the model does not have to \trely upon any empirical optimisation of input parameters. The correction procedure has been tested by \tapplying it to a wide range of microanalysis data including light-element results, and it is shown to \tgive greater accuracy than the established methods.} }\n\n\n\n\n\n","category":"type"},{"location":"#NeXLCore.MFtoNMF","page":"(Image: )Core - Part of the NeXL X-ray Microanalysis Library","title":"NeXLCore.MFtoNMF","text":"MFtoNMF\n\nMass fraction to normalized mass fraction measurement model.\n\n\n\n\n\n","category":"type"},{"location":"#NeXLCore.MatStats","page":"(Image: )Core - Part of the NeXL X-ray Microanalysis Library","title":"NeXLCore.MatStats","text":"MatStats\n\nComputes the mean atomic number (MeanZ) and mean atomic weight (MeanAz).\n\n\n\n\n\n","category":"type"},{"location":"#NeXLCore.Material","page":"(Image: )Core - Part of the NeXL X-ray Microanalysis Library","title":"NeXLCore.Material","text":"Material\n\nHolds basic data about a material including name, composition in mass fraction and optional propreties.\n\nProperties\n\n:Density Density in g/cm³\n:Description Human friendly\n:Pedigree Quality indicator for compositional data (\"SRM-XXX\", \"CRM-XXX\", \"NIST K-Glass\", \"Stoichiometry\", \"Wet-chemistry by ???\", \"WDS by ???\", \"???\")\n:Conductivity => :Insulator, :Semiconductor, :Conductor\n\n\n\n\n\n","category":"type"},{"location":"#NeXLCore.MaterialFractionLabel","page":"(Image: )Core - Part of the NeXL X-ray Microanalysis Library","title":"NeXLCore.MaterialFractionLabel","text":"MaterialFraction\n\nThis label represents the amount of a material constituent in material in a material defined as the mixture of other materials.\n\n\n\n\n\n","category":"type"},{"location":"#NeXLCore.MaterialLabel","page":"(Image: )Core - Part of the NeXL X-ray Microanalysis Library","title":"NeXLCore.MaterialLabel","text":"MaterialLabel\n\nThe abstract type associated with Labels with material and element members.\n\n\n\n\n\n","category":"type"},{"location":"#NeXLCore.NeXLBremsstrahlung","page":"(Image: )Core - Part of the NeXL X-ray Microanalysis Library","title":"NeXLCore.NeXLBremsstrahlung","text":"An abstract structure that implements\n\nNeXLCore.bremsstrahlung(::Type{<:NeXLBremsstrahlung}, e::AbstractFloat, e0::AbstractFloat, elm::Element; kwargs...)\n\n\n\n\n\n","category":"type"},{"location":"#NeXLCore.NeXLMeanIonizationPotential","page":"(Image: )Core - Part of the NeXL X-ray Microanalysis Library","title":"NeXLCore.NeXLMeanIonizationPotential","text":"Algorithms that implement the mean ionization potential.  The mean ionization potential is the primary parameter in continuous slowing down models of electron energy loss in matter.  Electrons primarily lose energy through two mechanisms - 1) collision stopping power parameterized by J, the mean ionization potential; and 2) Bremsstrahlung production.  Two or three orders of magnitude more energy is lost to collisional loss so collisional loss dominates the process and losses due to Bremsstrahlung production are insignificant relative to the uncertainty in collisional loss.\n\nImplement this:\n\nJ(::Type{<:NeXLMeanIonizationPotential}, z)  # in eV\n\nAlso provided:\n\nJ(::Type{<:NeXLMeanIonizationPotential}, elm::Element)  # in eV\n\n\n\n\n\n","category":"type"},{"location":"#NeXLCore.Reed1975","page":"(Image: )Core - Part of the NeXL X-ray Microanalysis Library","title":"NeXLCore.Reed1975","text":"@article{reed1975shape,   title={The shape of the continuous X-ray spectrum and background corrections for energy-dispersive electron microprobe analysis},   author={Reed, SJB},   journal={X-Ray Spectrometry},   volume={4},   number={1},   pages={14–17},   year={1975},   publisher={Wiley Online Library} }\n\n\n\n\n\n","category":"type"},{"location":"#NeXLCore.Shell","page":"(Image: )Core - Part of the NeXL X-ray Microanalysis Library","title":"NeXLCore.Shell","text":"Shell\n\nRepresents the K, L, M, N etc atomic shell\n\n\n\n\n\n","category":"type"},{"location":"#NeXLCore.Small1987","page":"(Image: )Core - Part of the NeXL X-ray Microanalysis Library","title":"NeXLCore.Small1987","text":"@article{small1987modeling,   title={Modeling of the bremsstrahlung radiation produced in pure-element targets by 10–40 keV electrons},   author={Small, John A and Leigh, Stefan D and Newbury, Dale E and Myklebust, Robert L},   journal={Journal of applied physics},   volume={61},   number={2},   pages={459–469},   year={1987},   publisher={American Institute of Physics} }\n\n\n\n\n\n","category":"type"},{"location":"#NeXLCore.Smith1975","page":"(Image: )Core - Part of the NeXL X-ray Microanalysis Library","title":"NeXLCore.Smith1975","text":"@article{ smithgoldtomlinson1975     title=\"The atomic number dependence of the X‐ray continuum intensity and the practical calculation of background in energy dispersive electron microprobe analysis\",     author = {Smith, D. G. W.  and Gold, C. M. and Tomlinson, D. A.},     journal={X-ray Spectrometry},     volume={4},     pages={149-156},     year={1975},     doi={10.1002/xrs.1300040311}, }\n\n\n\n\n\n","category":"type"},{"location":"#NeXLCore.Springer1967","page":"(Image: )Core - Part of the NeXL X-ray Microanalysis Library","title":"NeXLCore.Springer1967","text":"@article{springer1967electron,   title={Electron Transport in Amorphous Materials. I},   author={Springer, Bernard},   journal={Physical Review},   volume={154},   number={3},   pages={614},   year={1967},   publisher={APS} }\n\n\n\n\n\n","category":"type"},{"location":"#NeXLCore.Sternheimer1964","page":"(Image: )Core - Part of the NeXL X-ray Microanalysis Library","title":"NeXLCore.Sternheimer1964","text":"Cited personal communication in @article{berger196410,   title={10. Tables of energy-losses and ranges of electrons and positrons},   author={Berger, M and Seltzer, S},   journal={Studies in penetration of charged particles in matter},   number={39},   pages={205},   year={1964} }\n\n\n\n\n\n","category":"type"},{"location":"#NeXLCore.SubShell","page":"(Image: )Core - Part of the NeXL X-ray Microanalysis Library","title":"NeXLCore.SubShell","text":"SubShell\n\nRepresents one of the various differentsub subshells in an atom. Member data items are index::Int where 1=>K, 2=>L1, ..., 36=>P11. Construct using SubShell(name::AbstractString) where name = \"K\", \"L1\"...,\"P11\"\n\n\n\n\n\n","category":"type"},{"location":"#NeXLCore.Tomlin1963","page":"(Image: )Core - Part of the NeXL X-ray Microanalysis Library","title":"NeXLCore.Tomlin1963","text":"@article{Tomlin_1963, \tdoi = {10.1088/0370-1328/82/3/118}, \turl = {https://doi.org/10.1088%2F0370-1328%2F82%2F3%2F118}, \tyear = 1963, \tmonth = {sep}, \tpublisher = {{IOP} Publishing}, \tvolume = {82}, \tnumber = {3}, \tpages = {465–466}, \tauthor = {S G Tomlin}, \ttitle = {The Back-scattering of Electrons from Solids}, \tjournal = {Proceedings of the Physical Society}, \tabstract = {Archard's diffusion model of electron back-scattering is discussed on the basis of a \tresult obtained by Tomlin and Metchnik in 1963 in their treatment of x-ray emission intensities. \tThe resulting simple formula for the back-scattering coefficient is in reasonably good agreement \twith measured values.} }\n\nThe implementation adapted to not return negative numbers for z<5.\n\n\n\n\n\n","category":"type"},{"location":"#NeXLCore.Transition","page":"(Image: )Core - Part of the NeXL X-ray Microanalysis Library","title":"NeXLCore.Transition","text":"Transition\n\nRepresents an inner and outer shell that describe an X-ray transition. Only transitions for which one or more element has a characteristic x-ray are supported according to the default line weight database (weight > 0 for one or more Z). This structure does not contain the Element information necessary to specify a characteristic X-ray.\n\nData items:\n\ninnerShell::SubShell\nouterShell::SubShell\n\nExample:\n\ntr1 = Transition(n\"K\",n\"L3\")\ntr2   = Transition(SubShell(1),SubShell(4))\n@assert tr1==tr2\n\n\n\n\n\n","category":"type"},{"location":"#NeXLCore.Trincavelli1997","page":"(Image: )Core - Part of the NeXL X-ray Microanalysis Library","title":"NeXLCore.Trincavelli1997","text":"@article{trincavelli1998model,   title={Model for the bremsstrahlung spectrum in EPMA. Application to standardless quantification},   author={Trincavelli, Jorge and Castellano, Gustavo and Riveros, J Alberto},   journal={X-Ray Spectrometry: An International Journal},   volume={27},   number={2},   pages={81–86},   year={1998},   publisher={Wiley Online Library} }\n\n\n\n\n\n","category":"type"},{"location":"#NeXLCore.Wilson1941","page":"(Image: )Core - Part of the NeXL X-ray Microanalysis Library","title":"NeXLCore.Wilson1941","text":"@article{wilson1941range,   title={Range and ionization measurements on high speed protons},   author={Wilson, Robert R},   journal={Physical Review},   volume={60},   number={11},   pages={749},   year={1941},   publisher={APS} }\n\n\n\n\n\n","category":"type"},{"location":"#NeXLCore.Zeller1973","page":"(Image: )Core - Part of the NeXL X-ray Microanalysis Library","title":"NeXLCore.Zeller1973","text":"@article{coulon1973determination,   title={D{'e}termination th{'e}oretique du facteur de r{'e}trodiffusion en microanalyse par {'e}mission X},   author={Coulon, J and Zeller, C},   journal={CR Acad Sci Paris},   volume={276},   pages={215–218},   year={1973} }\n\n\n\n\n\n","category":"type"},{"location":"#Base.convert-Tuple{Type{Material},AbstractString}","page":"(Image: )Core - Part of the NeXL X-ray Microanalysis Library","title":"Base.convert","text":"Base.convert(::Type{Material}, str::AbstractString)\n\nConvert a DTSA-II style string into a material.\n\n\n\n\n\n","category":"method"},{"location":"#Base.haskey-Tuple{Material,Element}","page":"(Image: )Core - Part of the NeXL X-ray Microanalysis Library","title":"Base.haskey","text":"haskey(mat::Material, elm::Element)\n\nDoes this material contain this element?\n\n\n\n\n\n","category":"method"},{"location":"#Base.haskey-Tuple{Material,Symbol}","page":"(Image: )Core - Part of the NeXL X-ray Microanalysis Library","title":"Base.haskey","text":"haskey(mat::Material, sym::Symbol)\n\nDoes this material have this property defined?\n\n\n\n\n\n","category":"method"},{"location":"#Base.keys-Tuple{Material}","page":"(Image: )Core - Part of the NeXL X-ray Microanalysis Library","title":"Base.keys","text":"keys(mat::Material)\n\nReturn an interator over the elements in the Material.\n\n\n\n\n\n","category":"method"},{"location":"#Base.parse-Union{Tuple{V}, Tuple{Type{Material},AbstractString}} where V<:AbstractFloat","page":"(Image: )Core - Part of the NeXL X-ray Microanalysis Library","title":"Base.parse","text":"Base.parse(\n    ::Type{Material},\n    expr::AbstractString;\n    name::Union{AbstractString,Missing}=missing,\n    properties::Dict{Symbol,Any}=Dict{Symbol,Any}(),\n    atomicweights::Dict{Element,V} = Dict{Element,Float64}(),\n    density::Union{Missing, AbstractFloat}=missing,\n    description::Union{Missing, AbstractString}=missing,\n    pedigree::Union{Missing, AbstractString}=missing,\n    conductivity::Union{Missing, Symbol}=missing, # :Conductor, :Semiconductor, :Insulator\n)::Material\n\nParse a Material from a string.\n\n\n\n\n\n","category":"method"},{"location":"#Gadfly.plot","page":"(Image: )Core - Part of the NeXL X-ray Microanalysis Library","title":"Gadfly.plot","text":"Gadfly.plot(sss::AbstractVector{SubShell}, mode=:EdgeEnergy|:FluorescenceYield; palette=NeXLPalette)\n\nPlot the edge energies/fluorescence yields associated with the specified vector of SubShell objects.\n\n\n\n\n\n","category":"function"},{"location":"#Gadfly.plot-Tuple{AbstractArray{Transition,1}}","page":"(Image: )Core - Part of the NeXL X-ray Microanalysis Library","title":"Gadfly.plot","text":"Gadfly.plot(transitions::AbstractVector{Transition}; mode=:Energy|:Weight, palette=NeXLPalette)\n\nPlot either the :Energies or :Weights associated with the specified transitions over the range of supported elements.\n\n\n\n\n\n","category":"method"},{"location":"#Gadfly.plot-Tuple{Type{var\"#s24\"} where var\"#s24\"<:NeXLAlgorithm,AbstractArray{T,1} where T}","page":"(Image: )Core - Part of the NeXL X-ray Microanalysis Library","title":"Gadfly.plot","text":"compareMACs(elm::Element; palette=NeXLPalette)\n\nPlot a comparison of the FFAST and Heinrich MAC tabulations for the specified Element or Material.\n\n\n\n\n\n","category":"method"},{"location":"#Gadfly.plot-Tuple{Type{var\"#s26\"} where var\"#s26\"<:NeXLAlgorithm,Union{Material, Element}}","page":"(Image: )Core - Part of the NeXL X-ray Microanalysis Library","title":"Gadfly.plot","text":"plot(alg::Type{<:NeXLAlgorithm}, elm::Union{Element,Material}; palette = NeXLPalette, xmax=20.0e3)\n\nPlot a MAC tabulations for the specified Element or Material.\n\n\n\n\n\n","category":"method"},{"location":"#NeXLCore.a-Tuple{Element,Material}","page":"(Image: )Core - Part of the NeXL X-ray Microanalysis Library","title":"NeXLCore.a","text":"a(elm::Element, mat::Material)\n\nGet the atomic weight for the specified Element in the specified Material.\n\n\n\n\n\n","category":"method"},{"location":"#NeXLCore.a-Tuple{Element}","page":"(Image: )Core - Part of the NeXL X-ray Microanalysis Library","title":"NeXLCore.a","text":"a(elm::Element)\n\nReturn the mean atomic weight of the Element.\n\n\n\n\n\n","category":"method"},{"location":"#NeXLCore.analyticaltotal-Tuple{Material}","page":"(Image: )Core - Part of the NeXL X-ray Microanalysis Library","title":"NeXLCore.analyticaltotal","text":"analyticaltotal(mat::Material)\n\nReturn the sum of the positive mass fractions.\n\n\n\n\n\n","category":"method"},{"location":"#NeXLCore.asnormalized","page":"(Image: )Core - Part of the NeXL X-ray Microanalysis Library","title":"NeXLCore.asnormalized","text":"asnormalized(mat::Material, n=1.0)::Material\n\nConvert the Material to a normalized Material form.  Negative mass fractions are set to zero before normalization.\n\n\n\n\n\n","category":"function"},{"location":"#NeXLCore.asoxide-Tuple{Dict{Element,var\"#s85\"} where var\"#s85\"<:AbstractFloat}","page":"(Image: )Core - Part of the NeXL X-ray Microanalysis Library","title":"NeXLCore.asoxide","text":"asoxide(elms::Pair{Element, <:AbstractFloat}...; valences = valences, name::Union{AbstractString,Nothing}=nothing)\nasoxide(elms::Dict{Element, <:AbstractFloat}...; valences = valences, name::Union{AbstractString,Nothing}=nothing)\n\nCompute a mixture of the oxidized forms of the specified elements using the valences provided in val. By default, val = NeXLCore.valences, a typical set of valences.\n\n\n\n\n\n","category":"method"},{"location":"#NeXLCore.asoxide-Tuple{Element}","page":"(Image: )Core - Part of the NeXL X-ray Microanalysis Library","title":"NeXLCore.asoxide","text":"asoxide(elm::Element, valences = valences)\n\nCompute the oxidized form of the specified element using the valences provided in val.  By default, val = NeXLCore.valences, a typical set of valences.\n\n\n\n\n\n","category":"method"},{"location":"#NeXLCore.atomicfraction-Tuple{Material}","page":"(Image: )Core - Part of the NeXL X-ray Microanalysis Library","title":"NeXLCore.atomicfraction","text":"atomicfraction(mat::Material)::Dict{Element,AbstractFloat}\n\nReturn the composition in atomic fraction representation.\n\n\n\n\n\n","category":"method"},{"location":"#NeXLCore.atomicfraction-Union{Tuple{V}, Tuple{U}, Tuple{AbstractString,Vararg{Pair{Element,U},N} where N}} where V<:AbstractFloat where U<:Real","page":"(Image: )Core - Part of the NeXL X-ray Microanalysis Library","title":"NeXLCore.atomicfraction","text":"atomicfraction(\n    name::String,\n    atomfracs::Union{Dict{Element,Float64},Pair{Element,Float64}...};\n    properties::properties::Dict{Symbol, Any},\n    atomicweights::Dict{Element,Float64},\n    density::Union{Missing, AbstractFloat}=missing,\n    description::Union{Missing, AbstractString}=missing,\n    pedigree::Union{Missing, AbstractString}=missing,\n    conductivity::Union{Missing, Symbol}=missing, # :Conductor, :Semiconductor, :Insulator\n\n) # density, description, pedigree, conductivity\n\nBuild a Material from atomic fractions (or stoichiometries).\n\n\n\n\n\n","category":"method"},{"location":"#NeXLCore.atomicsubshell-Tuple{AbstractString}","page":"(Image: )Core - Part of the NeXL X-ray Microanalysis Library","title":"NeXLCore.atomicsubshell","text":"atomicsubshell(str::AbstractString)::AtomicSubShell\n\nParse an AtomicSubShell from a string of the form \"Fe K\" or \"U M5\".\n\n\n\n\n\n","category":"method"},{"location":"#NeXLCore.atomicsubshell-Tuple{Element,SubShell}","page":"(Image: )Core - Part of the NeXL X-ray Microanalysis Library","title":"NeXLCore.atomicsubshell","text":"atomicsubshell(elm::Element, ss::SubShell)::AtomicSubShell\n\nConstruct an AtomicSubShell from from an Element and a SubShell.\n\n\n\n\n\n","category":"method"},{"location":"#NeXLCore.atomicsubshells","page":"(Image: )Core - Part of the NeXL X-ray Microanalysis Library","title":"NeXLCore.atomicsubshells","text":" atomicsubshells(elm::Element, maxE=1.0e6)::Vector{AtomicSubShell}\n\nReturns a Vector containing all AtomicSubShell structs associated with the  specified element with less than the specified energy (in eV).\n\nExample:\n\njulia> atomicsubshells(n\"Fe\",1.0e3)\n8-element Array{AtomicSubShell,1}:\n Fe M3\n Fe L3\n Fe M5\n Fe L1\n Fe L2\n Fe M1\n Fe M4\n Fe M2\n\n\n\n\n\n","category":"function"},{"location":"#NeXLCore.brightest-Tuple{Element,Any}","page":"(Image: )Core - Part of the NeXL X-ray Microanalysis Library","title":"NeXLCore.brightest","text":"brightest(elm::Element, shell)\n\nReturn the brightest transition among the shell of transitions for the specified element.  (group=\"K\"|\"Ka\"|\"Kb\"|\"L\" etc)\n\n\n\n\n\n","category":"method"},{"location":"#NeXLCore.capacity-Tuple{SubShell}","page":"(Image: )Core - Part of the NeXL X-ray Microanalysis Library","title":"NeXLCore.capacity","text":"capacity(ss::SubShell)\n\nElectron capacity for the specified sub-shell.  This is the total number of electrons that the sub-shell can hold, not the actual number a specific ground-state element may have in that sub-shell.\n\n\n\n\n\n","category":"method"},{"location":"#NeXLCore.charactericXRayAvailable-Tuple{Int64,Int64,Int64,Type{NeXL}}","page":"(Image: )Core - Part of the NeXL X-ray Microanalysis Library","title":"NeXLCore.charactericXRayAvailable","text":"characteristicXRayAvailable(z::Int, inner::Int, outer::Int)::Float64\n\nIs the weight associated with this transition greater than zero?\n\n\n\n\n\n","category":"method"},{"location":"#NeXLCore.characteristic","page":"(Image: )Core - Part of the NeXL X-ray Microanalysis Library","title":"NeXLCore.characteristic","text":"characteristic(elm::Element, iter::Tuple{Vararg{Transition}}, minweight=0.0, maxE=1.0e6)\n\nThe collection of available CharXRay for the specified element.\n\nmaxE is compared to the edge energy.\nminWeight is compared to the weight\n\nExample:\n\ncharacteristic(n\"Fe\",ltransitions,0.01)\n\n\n\n\n\n","category":"function"},{"location":"#NeXLCore.characteristic-Tuple{AbstractString}","page":"(Image: )Core - Part of the NeXL X-ray Microanalysis Library","title":"NeXLCore.characteristic","text":"characteristic(str::AbstractString)::CharXRay\n\nCreate a CharXRay structure from a string like \"Fe K-L3\" or \"U L3-M5\".\n\n\n\n\n\n","category":"method"},{"location":"#NeXLCore.characteristic-Tuple{Element,Tuple{Vararg{Transition,N} where N},Function}","page":"(Image: )Core - Part of the NeXL X-ray Microanalysis Library","title":"NeXLCore.characteristic","text":"characteristic(elm::Element, iter::Tuple{Vararg{Transition}}, filterfunc::Function)\n\nThe collection of available CharXRay for the specified element.  filterfunc(...) is a function taking a single CharXRay argument.\n\nExample:\n\ncharacteristic(n\"Fe\",ltransitions,cxr->energy(cxr)>700.0)\n\n\n\n\n\n","category":"method"},{"location":"#NeXLCore.characteristicXRayEnergy-Tuple{Int64,Int64,Int64,Type{FFASTDB}}","page":"(Image: )Core - Part of the NeXL X-ray Microanalysis Library","title":"NeXLCore.characteristicXRayEnergy","text":"characteristicXRayEnergy(z::Int, inner::Int, outer::Int)::Float64\n\nReturn energy (in eV) of the transition by specified inner and outer sub-shell index.\n\n\n\n\n\n","category":"method"},{"location":"#NeXLCore.characteristicyield-Tuple{Int64,Int64,Int64,Int64,Type{NeXL}}","page":"(Image: )Core - Part of the NeXL X-ray Microanalysis Library","title":"NeXLCore.characteristicyield","text":"characteristicyield(z::Int, ionized::Int, inner::Int, outer::Int)::Float64\n\nThe fraction of ionized sub-shell ionizations that relax via a characteristic X-ray resulting from an electronic transition from outer to inner.  This includes both direct transitions (where outer==ionized) and cascade (where outer != ionized due to Coster-Kronig and previous decays.)\n\n\n\n\n\n","category":"method"},{"location":"#NeXLCore.compare-Tuple{Material,Material}","page":"(Image: )Core - Part of the NeXL X-ray Microanalysis Library","title":"NeXLCore.compare","text":"compare(unk::Material, known::Material)::DataFrame\n\nCompare two compositions in a DataFrame.\n\n\n\n\n\n","category":"method"},{"location":"#NeXLCore.compareMACs-Tuple{Element}","page":"(Image: )Core - Part of the NeXL X-ray Microanalysis Library","title":"NeXLCore.compareMACs","text":"compareMACs(elm::Element; palette=NeXLPalette)\n\nPlot a comparison of the FFAST and Heinrich MAC tabulations for the specified Element.\n\n\n\n\n\n","category":"method"},{"location":"#NeXLCore.compositionlibrary-Tuple{}","page":"(Image: )Core - Part of the NeXL X-ray Microanalysis Library","title":"NeXLCore.compositionlibrary","text":"compositionlibrary()::Dict{String, Material}\n\nLoad the internal compositon library.\n\n\n\n\n\n","category":"method"},{"location":"#NeXLCore.comptonShift-Tuple{AbstractFloat,AbstractFloat}","page":"(Image: )Core - Part of the NeXL X-ray Microanalysis Library","title":"NeXLCore.comptonShift","text":"comptonShift(θ::AbstractFloat, energy::AbstractFloat)\n\nCalculates the fractional shift of an x-ray of the specified energy scattered at the specified angle.\n\n\n\n\n\n","category":"method"},{"location":"#NeXLCore.configuration-Tuple{Element}","page":"(Image: )Core - Part of the NeXL X-ray Microanalysis Library","title":"NeXLCore.configuration","text":"configuration(elm::Element)\n\nThe configuration of the shell occupancy in a specific ground-state element.\n\n\n\n\n\n","category":"method"},{"location":"#NeXLCore.dEds-Tuple{Type{JoyLuo},Float64,Element,Float64}","page":"(Image: )Core - Part of the NeXL X-ray Microanalysis Library","title":"NeXLCore.dEds","text":"dEds(::Type{<:BetheEnergyLoss}, e::Float64, elm::Element, ρ::Float64; mip::Type{<:NeXLMeanIonizationPotential}=Berger1982)\ndEds(::Type{<:BetheEnergyLoss}, e::Float64, mat::Material, inclDensity=true; mip::Type{<:NeXLMeanIonizationPotential}=Berger1982)\n\nCalculate the loss per unit path length for an electron in the specified element and density.  The results in energy loss in eV/Å.\n\n\n\n\n\n","category":"method"},{"location":"#NeXLCore.density-Tuple{Element}","page":"(Image: )Core - Part of the NeXL X-ray Microanalysis Library","title":"NeXLCore.density","text":"density(elm::Element)\n\nReturn the nominal density for the element.\n\n\n\n\n\n","category":"method"},{"location":"#NeXLCore.density-Tuple{Material}","page":"(Image: )Core - Part of the NeXL X-ray Microanalysis Library","title":"NeXLCore.density","text":"density(mat::Material)\n\nReturn the density in g/cm³ (Might be 'missing')\n\n\n\n\n\n","category":"method"},{"location":"#NeXLCore.eachelement-Tuple{Type{FFASTDB}}","page":"(Image: )Core - Part of the NeXL X-ray Microanalysis Library","title":"NeXLCore.eachelement","text":"eachelement() = 1:92\n\nReturn the range of atomic numbers for which there is a complete set of energy, weight, MAC, ... data\n\n\n\n\n\n","category":"method"},{"location":"#NeXLCore.edgeenergy","page":"(Image: )Core - Part of the NeXL X-ray Microanalysis Library","title":"NeXLCore.edgeenergy","text":"edgeenergy(cxr::CharXRay, ::Type{<:NeXLAlgorithm}=FFASTDB)\n\nIonization edge energy for the specified X-ray.\n\n\n\n\n\n","category":"function"},{"location":"#NeXLCore.edgeenergy-Tuple{Int64,Int64,Type{FFASTDB}}","page":"(Image: )Core - Part of the NeXL X-ray Microanalysis Library","title":"NeXLCore.edgeenergy","text":"edgeenergy(z::Int, ss::Int, ::Type{FFASTDB})::Float64\n\nReturn the minimum energy (in eV) necessary to ionize the specified sub-shell in the specified atom.\n\n\n\n\n\n","category":"method"},{"location":"#NeXLCore.elasticfraction-Tuple{Element,Material,Float64}","page":"(Image: )Core - Part of the NeXL X-ray Microanalysis Library","title":"NeXLCore.elasticfraction","text":"elasticfraction(elm::Element, mat::Material, e0::Float64)::Float64\n\nComputes the fraction of the total scattering cross-section associated with elm in mat at beam energy e0.\n\n@incollection{armstrong1991quantitative,   title={Quantitative elemental analysis of individual microparticles with electron beam instruments},   author={Armstrong, John T},   booktitle={Electron probe quantitation},   pages={261–315},   year={1991},   publisher={Springer} }\n\n\n\n\n\n","category":"method"},{"location":"#NeXLCore.electronfraction-Tuple{Element,Material}","page":"(Image: )Core - Part of the NeXL X-ray Microanalysis Library","title":"NeXLCore.electronfraction","text":"electronfraction(elm::Element, mat::Material)::Float64\n\nThe electron fraction as defined in:\n\n@article{donovan2003compositional,   title={Compositional averaging of backscatter intensities in compounds},   author={Donovan, John J and Pingitore, Nicholas E and Westphal, Andrew},   journal={Microscopy and Microanalysis},   volume={9},   number={3},   pages={202–215},   year={2003},   publisher={Cambridge University Press} }\n\n\n\n\n\n","category":"method"},{"location":"#NeXLCore.element-Tuple{AbstractString}","page":"(Image: )Core - Part of the NeXL X-ray Microanalysis Library","title":"NeXLCore.element","text":"element(str::AbstractString)\n\nParses a string to determine if the string represents an Element by atomic number, symbol or name.\n\n\n\n\n\n","category":"method"},{"location":"#NeXLCore.element-Tuple{AtomicSubShell}","page":"(Image: )Core - Part of the NeXL X-ray Microanalysis Library","title":"NeXLCore.element","text":" element(ass::AtomicSubShell)\n\nThe Element associated with the specified sub-shell.\n\n\n\n\n\n","category":"method"},{"location":"#NeXLCore.element-Tuple{CharXRay}","page":"(Image: )Core - Part of the NeXL X-ray Microanalysis Library","title":"NeXLCore.element","text":"element(cxr::CharXRay)\n\nReturn the element for this CharXRay.\n\n\n\n\n\n","category":"method"},{"location":"#NeXLCore.element-Tuple{Integer}","page":"(Image: )Core - Part of the NeXL X-ray Microanalysis Library","title":"NeXLCore.element","text":"element(z::Int)::PeriodicTable.Element\n\nCovert an atomic number into a PeriodicTable.Element\n\n\n\n\n\n","category":"method"},{"location":"#NeXLCore.elms-Tuple{Array{KRatio,1}}","page":"(Image: )Core - Part of the NeXL X-ray Microanalysis Library","title":"NeXLCore.elms","text":"elms(krs::Vector{KRatio})::Set{Element}\n\nReturn a set containing the elements present in krs.\n\n\n\n\n\n","category":"method"},{"location":"#NeXLCore.energy","page":"(Image: )Core - Part of the NeXL X-ray Microanalysis Library","title":"NeXLCore.energy","text":" energy(ass::AtomicSubShell, ty::Type{<:NeXLAlgorithm}=FFASTDB)\n\nThe edge energy in eV for the specified AtomicSubShell\n\nExample:\n\njulia> energy(n\"Fe L3\")\n708.0999999999999\n\n\n\n\n\n","category":"function"},{"location":"#NeXLCore.energy-2","page":"(Image: )Core - Part of the NeXL X-ray Microanalysis Library","title":"NeXLCore.energy","text":"energy(elm::Element, ss::SubShell, ty::Type{<:NeXLAlgorithm}=FFASTDB)\n\nThe edge energy in eV for the specified atomic sub-shell\n\nExample:\n\njulia> energy(n\"Fe\", n\"L3\")    708.0999999999999\n\n\n\n\n\n","category":"function"},{"location":"#NeXLCore.energy-3","page":"(Image: )Core - Part of the NeXL X-ray Microanalysis Library","title":"NeXLCore.energy","text":"energy(elm::Element, tr::Transition, ty::Type{<:NeXLAlgorithm}=FFASTDB)\n\nThe energy in eV for the specified characteristic X-ray represented by an element and transition.\n\n\n\n\n\n","category":"function"},{"location":"#NeXLCore.energy-4","page":"(Image: )Core - Part of the NeXL X-ray Microanalysis Library","title":"NeXLCore.energy","text":"energy(cxr::CharXRay, ty::Type{<:NeXLAlgorithm}=FFASTDB)\n\nThe energy in eV for the specified CharXRay (characteristic X-ray)\n\n\n\n\n\n","category":"function"},{"location":"#NeXLCore.exists-Tuple{SubShell,SubShell}","page":"(Image: )Core - Part of the NeXL X-ray Microanalysis Library","title":"NeXLCore.exists","text":"exists(inner::SubShell, outer::SubShell)::Bool\n\nDoes a transition exist in our database for this pair of shells?\n\n\n\n\n\n","category":"method"},{"location":"#NeXLCore.fluorescenceyield-Tuple{AtomicSubShell,Type{NeXL}}","page":"(Image: )Core - Part of the NeXL X-ray Microanalysis Library","title":"NeXLCore.fluorescenceyield","text":"fluorescenceyield(ass::AtomicSubShell, ::Type{FFASTDB})::Float64\n\nThe fraction of relaxations from the specified shell that decay via radiative transition rather than electronic (Auger) transition.  Does not include Coster-Kronig\n\n\n\n\n\n","category":"method"},{"location":"#NeXLCore.fluorescenceyield-Tuple{Int64,Int64,Int64,Type{NeXL}}","page":"(Image: )Core - Part of the NeXL X-ray Microanalysis Library","title":"NeXLCore.fluorescenceyield","text":"fluorescenceyield(z::Int, inner::Int, outer::Int)::Float64\n\nThe fraction of inner sub-shell ionizations that relax via a characteristic X-ray resulting from an electronic transition from outer to inner.\n\n\n\n\n\n","category":"method"},{"location":"#NeXLCore.fluorescenceyield-Tuple{Int64,Type{Burhop1965}}","page":"(Image: )Core - Part of the NeXL X-ray Microanalysis Library","title":"NeXLCore.fluorescenceyield","text":"fluorescenceyield(z::Int, ::Type{Burhop1965})\n\nAn approximate expression for the K-shell fluorescence yield due to E.H.S Burhop, J. Phys. Radium, 16, 625 (1965)\n\n\n\n\n\n","category":"method"},{"location":"#NeXLCore.fluorescenceyieldcc-Tuple{AtomicSubShell,Type{NeXL}}","page":"(Image: )Core - Part of the NeXL X-ray Microanalysis Library","title":"NeXLCore.fluorescenceyieldcc","text":"fluorescenceyieldcc(ass::AtomicSubShell, ::Type{FFASTDB})::Float64\n\nThe fraction of relaxations from the specified shell that decay via radiative transition rather than electronic (Auger) transition.  Includes Coster-Kronig\n\n\n\n\n\n","category":"method"},{"location":"#NeXLCore.has-Tuple{Element,SubShell}","page":"(Image: )Core - Part of the NeXL X-ray Microanalysis Library","title":"NeXLCore.has","text":"has(elm::Element, s::SubShell) =\n\nIs the specified sub-shell occupied by one or more electrons in a ground-state atom of the specified element?\n\n\n\n\n\n","category":"method"},{"location":"#NeXLCore.has-Tuple{Element,Transition}","page":"(Image: )Core - Part of the NeXL X-ray Microanalysis Library","title":"NeXLCore.has","text":"has(elm::Element, tr::Transition)::Bool\n\nIs the specified Transition available for the specified element?\n\nExample:\n\n@assert has(n\"Fe L3-M5)\n@assert !has(n\"Fe N7-O9)\n\n\n\n\n\n","category":"method"},{"location":"#NeXLCore.hasminrequired-Tuple{Type,Dict{Symbol,Any}}","page":"(Image: )Core - Part of the NeXL X-ray Microanalysis Library","title":"NeXLCore.hasminrequired","text":"hasminrequired(ty::Type, item::Union{Spectrum,Dict{Symbol,Any}})\n\nDoes this spectrum have the minimal set of required properties?\n\n\n\n\n\n","category":"method"},{"location":"#NeXLCore.inner-Tuple{CharXRay}","page":"(Image: )Core - Part of the NeXL X-ray Microanalysis Library","title":"NeXLCore.inner","text":"inner(cxr::CharXRay)\n\nReturn the inner AtomicSubShell associated with the specified CharXRay.\n\n\n\n\n\n","category":"method"},{"location":"#NeXLCore.ionizationcrosssection","page":"(Image: )Core - Part of the NeXL X-ray Microanalysis Library","title":"NeXLCore.ionizationcrosssection","text":"ionizationcrosssection(ass::AtomicSubShell, energy::AbstractFloat, ty::Type{<:NeXLAlgorithm}=Bote2009)\n\nComputes the absolute ionization crosssection (in cm²) for the specified AtomicSubShell and electon energy (in eV) using the default algorithm.\n\nExample:\n\njulia> (/)(map(e->NeXLCore.ionizationcrosssection(n\"Fe K\",e),[10.0e3,20.0e3])...)\n0.5672910174711278\n\n\n\n\n\n","category":"function"},{"location":"#NeXLCore.ionizationcrosssection-Tuple{Int64,Int64,AbstractFloat,Type{NeXLCore.Bote2009}}","page":"(Image: )Core - Part of the NeXL X-ray Microanalysis Library","title":"NeXLCore.ionizationcrosssection","text":"ionizationcrosssection(z::Int, shell::Int, energy::AbstractFloat, ::Type{Bote2009})\n\nCompute the absolute ionization crosssection (in cm²) for the specified element, shell and electon energy (in eV).\n\n\n\n\n\n","category":"method"},{"location":"#NeXLCore.j-Tuple{SubShell}","page":"(Image: )Core - Part of the NeXL X-ray Microanalysis Library","title":"NeXLCore.j","text":" j(ss::SubShell)\n\nTotal angular momentum quantum number\n\n\n\n\n\n","category":"method"},{"location":"#NeXLCore.jumpratio-Tuple{AtomicSubShell,Type{Poehn1985}}","page":"(Image: )Core - Part of the NeXL X-ray Microanalysis Library","title":"NeXLCore.jumpratio","text":"jumpratio(ashell::AtomicSubShell, ::Type{Poehn1985})\n\nAn implement of jump ratios attributed to\n\nPoehn, Wernisch, Hanke (1985) X-ray Spectrom 14(3):120, 1985\n\n\n\n\n\n","category":"method"},{"location":"#NeXLCore.jumpratio-Tuple{Int64,Int64,Type{FFASTDB}}","page":"(Image: )Core - Part of the NeXL X-ray Microanalysis Library","title":"NeXLCore.jumpratio","text":"jumpratio(z::Int, ss::Int, ::Type{FFASTDB}) =\n\nCompute the jump ratio.\n\n\n\n\n\n","category":"method"},{"location":"#NeXLCore.klinewidths-Tuple{Element}","page":"(Image: )Core - Part of the NeXL X-ray Microanalysis Library","title":"NeXLCore.klinewidths","text":"klinewidths(elm::Element)\n\nLinewidth of the K shell according to Bambynek'1974 errata to Bambynek 1972. Shown to be reliable for Z>36 or so.\n\n\n\n\n\n","category":"method"},{"location":"#NeXLCore.l-Tuple{SubShell}","page":"(Image: )Core - Part of the NeXL X-ray Microanalysis Library","title":"NeXLCore.l","text":"l(ss::SubShell)\n\nOrbital angular momentum quantum number\n\n\n\n\n\n","category":"method"},{"location":"#NeXLCore.labeled-Tuple{Material}","page":"(Image: )Core - Part of the NeXL X-ray Microanalysis Library","title":"NeXLCore.labeled","text":"labeled(mat::Material)\n\nTransform the mass fraction representation of a material into a Dict{MassFractionLabel,AbstractFloat}\n\n\n\n\n\n","category":"method"},{"location":"#NeXLCore.mac","page":"(Image: )Core - Part of the NeXL X-ray Microanalysis Library","title":"NeXLCore.mac","text":"mac(mat::Material, xray::Union{Float64,CharXRay}, alg::Type{<:NeXLAlgorithm}=FFASTDB)::Float64\n\nCompute the material MAC using the standard mass fraction weighted formula.\n\n\n\n\n\n","category":"function"},{"location":"#NeXLCore.mac-2","page":"(Image: )Core - Part of the NeXL X-ray Microanalysis Library","title":"NeXLCore.mac","text":"mac(elm::Element, cxr::CharXRay, alg::Type{<:MACAlgorithm}=FFASTMAC)::Float64\n\nThe mass absorption coefficient for the specified characteristic X-ray in the specified element.\n\n\n\n\n\n","category":"function"},{"location":"#NeXLCore.mac-3","page":"(Image: )Core - Part of the NeXL X-ray Microanalysis Library","title":"NeXLCore.mac","text":"mac(elm::Element, cxr::Float64, alg::Type{<:NeXLAlgorithm}=FFASTMAC)::Float64\n\nThe mass absorption coefficient for an X-ray of the specified energy (eV) in the specified element.\n\n\n\n\n\n","category":"function"},{"location":"#NeXLCore.mac-Tuple{Element,Float64,Type{DTSA}}","page":"(Image: )Core - Part of the NeXL X-ray Microanalysis Library","title":"NeXLCore.mac","text":"mac(::Type{DTSAMAC}, zz::Int, ev::Float64)::Float64\n\nCalculate the elemental MAC using Heinrich's IXCOM 11 formula as implemented by Myklebust in DTSA.\n\n\n\n\n\n","category":"method"},{"location":"#NeXLCore.mac-Tuple{Element,Float64,Type{FFASTDB}}","page":"(Image: )Core - Part of the NeXL X-ray Microanalysis Library","title":"NeXLCore.mac","text":"mac(elm::Element, energy::Float64, ::Type{FFASTDB})::Float64\n\nCompute the mass absorption coefficient for the specified energy X-ray (in eV) in the specified element (z=> atomic number).\n\n\n\n\n\n","category":"method"},{"location":"#NeXLCore.macU","page":"(Image: )Core - Part of the NeXL X-ray Microanalysis Library","title":"NeXLCore.macU","text":"macU(elm::Element, cxr::CharXRay, alg::Type{<:NeXLAlgorithm}=FFASTMAC)::UncertainValue\n\nThe mass absorption coefficient for the specified characteristic X-ray in the specified element.\n\n\n\n\n\n","category":"function"},{"location":"#NeXLCore.macU-2","page":"(Image: )Core - Part of the NeXL X-ray Microanalysis Library","title":"NeXLCore.macU","text":"macU(elm::Element, cxr::Float64, alg::Type{<:NeXLAlgorithm}=FFASTMAC)::UncertainValue\n\nThe mass absorption coefficient (with uncertainty estimate) for an X-ray of the specified energy (eV) in the specified element.\n\n\n\n\n\n","category":"function"},{"location":"#NeXLCore.macU-Tuple{Element,Float64,Type{FFASTDB}}","page":"(Image: )Core - Part of the NeXL X-ray Microanalysis Library","title":"NeXLCore.macU","text":"macU(elm::Element, energy::Float64, ::Type{FFASTDB})::UncertainValue\n\nCompute the mass absorption coefficient (with estimate of uncertainty) for the specified energy X-ray (in eV) in the specified element (z=> atomic number).\n\n\n\n\n\n","category":"method"},{"location":"#NeXLCore.massfraction-Tuple{Material}","page":"(Image: )Core - Part of the NeXL X-ray Microanalysis Library","title":"NeXLCore.massfraction","text":"massfraction(mat::Material)::Dict{Element, AbstractFloat}\n\nThe mass fraction as a Dict{Element, AbstractFloat}\n\n\n\n\n\n","category":"method"},{"location":"#NeXLCore.material-Union{Tuple{V}, Tuple{U}, Tuple{AbstractString,Dict{Element,U}}} where V<:AbstractFloat where U<:AbstractFloat","page":"(Image: )Core - Part of the NeXL X-ray Microanalysis Library","title":"NeXLCore.material","text":"material(\n    name::AbstractString,\n    massfrac::Pair{Element,<:AbstractFloat}...;\n    properties::Dict{Symbol,Any}=Dict{Symbol,Any)(),\n    atomicweights::Dict{Element, <:AbstractFloat}=Dict{Element,Float64}(),\n    density::Union{Missing, AbstractFloat}=missing,\n    description::Union{Missing, AbstractString}=missing,\n    pedigree::Union{Missing, AbstractString}=missing,\n    conductivity::Union{Missing, Symbol}=missing, # :Conductor, :Semiconductor, :Insulator\n)\nmaterial(\n    name::AbstractString,\n    massfrac::Dict{Element,<:AbstractFloat};\n    properties::Dict{Symbol,Any}=Dict{Symbol,Any)(),\n    atomicweights::Dict{Element, <:AbstractFloat}=Dict{Element,Float64}(),\n    density::Union{Missing, AbstractFloat}=missing,\n    description::Union{Missing, AbstractString}=missing,\n    pedigree::Union{Missing, AbstractString}=missing,\n    conductivity::Union{Missing, Symbol}=missing, # :Conductor, :Semiconductor, :Insulator\n)\n\nConstuct a material from mass fraction pairs.\n\n\n\n\n\n","category":"method"},{"location":"#NeXLCore.materiallabels-Tuple{Type{var\"#s95\"} where var\"#s95\"<:MaterialLabel,String,Union{LabeledValues, UncertainValues}}","page":"(Image: )Core - Part of the NeXL X-ray Microanalysis Library","title":"NeXLCore.materiallabels","text":"materiallabels(ty::Type{<:MaterialLabel}, material::String, uvs::Union{LabeledValues,UncertainValues})\n\nUseful for extracting the MaterialLabel[s] associated with a single material.\n\n\n\n\n\n","category":"method"},{"location":"#NeXLCore.meanfluorescenceyield-Tuple{Element,Shell,Type{NeXLCore.Bambynek1972}}","page":"(Image: )Core - Part of the NeXL X-ray Microanalysis Library","title":"NeXLCore.meanfluorescenceyield","text":"meanfluorescenceyield(elm::Element, sh::Shell)\nmeanfluorescenceyield(elm::Element, sh::Shell, ::Type{Bambynek1972})\n\nMean fluorescence yields from Bambynek in Reviews of Modern Physics 44(4), 1972\n\n\n\n\n\n","category":"method"},{"location":"#NeXLCore.mf2comp-Tuple{String,UncertainValues}","page":"(Image: )Core - Part of the NeXL X-ray Microanalysis Library","title":"NeXLCore.mf2comp","text":"mf2comp(material::String, mfs::UncertainValues)::UncertainValues\n\nConverts a material composition expressed in the mfs UncertainValues struct into a handful of common representations including normalized mass fraction, atomic fraction, mean Z and mean atomic number.\n\n\n\n\n\n","category":"method"},{"location":"#NeXLCore.minproperties-Tuple{Type{Any}}","page":"(Image: )Core - Part of the NeXL X-ray Microanalysis Library","title":"NeXLCore.minproperties","text":"minrequired(::Type{XXX})\n\nReturns the minimum required properties.  Other classes implement this to check whether a Spectrum or Dict has all the necessary properties for the specified algorithm or data structure.\n\n\n\n\n\n","category":"method"},{"location":"#NeXLCore.name-Tuple{AbstractArray{CharXRay,1}}","page":"(Image: )Core - Part of the NeXL X-ray Microanalysis Library","title":"NeXLCore.name","text":"name(cxrs::AbstractVector{CharXRay})\n\nAn abbeviated name for a collection of CharXRay.\n\n\n\n\n\n","category":"method"},{"location":"#NeXLCore.name-Tuple{Element}","page":"(Image: )Core - Part of the NeXL X-ray Microanalysis Library","title":"NeXLCore.name","text":"name(elm::Element)\n\nReturn the name like \"Hydrogen\", \"Helium\",... for the Element.\n\n\n\n\n\n","category":"method"},{"location":"#NeXLCore.name-Tuple{Material}","page":"(Image: )Core - Part of the NeXL X-ray Microanalysis Library","title":"NeXLCore.name","text":"name(mat::Material)\n\nReturn a human friendly short name for the Material.\n\n\n\n\n\n","category":"method"},{"location":"#NeXLCore.nexlAllTotalWeights-Tuple{Int64,Int64}","page":"(Image: )Core - Part of the NeXL X-ray Microanalysis Library","title":"NeXLCore.nexlAllTotalWeights","text":"nexlAllTotalWeights(z::Int, ionized::Int)\n\nReturns a Vector containing tuples (inner, outer, weight) for each transition which could result when the specified shell is ionized.\n\n\n\n\n\n","category":"method"},{"location":"#NeXLCore.nexlTotalWeight-NTuple{4,Int64}","page":"(Image: )Core - Part of the NeXL X-ray Microanalysis Library","title":"NeXLCore.nexlTotalWeight","text":"nexlDirectWeight(z::Int, ionized::Int, inner::Int, outer::Int)\n\nThe line weight for the transition (inner,outer) which results from an ionization of ionized.\n\n\n\n\n\n","category":"method"},{"location":"#NeXLCore.normalizedmassfraction-Tuple{Material}","page":"(Image: )Core - Part of the NeXL X-ray Microanalysis Library","title":"NeXLCore.normalizedmassfraction","text":"normalizedmassfraction(mat::Material)::Dict{Element, AbstractFloat}\n\nReturn the normalized mass fraction as a Dict{Element, AbstractFloat}.  Negative values are set to zero.\n\n\n\n\n\n","category":"method"},{"location":"#NeXLCore.normweight","page":"(Image: )Core - Part of the NeXL X-ray Microanalysis Library","title":"NeXLCore.normweight","text":"normweight(cxr::CharXRay)\n\nThe line weight of the specified characteristic X-ray with the sum of the weights in a subshell equals to unity.\n\n\n\n\n\n","category":"function"},{"location":"#NeXLCore.normweight-2","page":"(Image: )Core - Part of the NeXL X-ray Microanalysis Library","title":"NeXLCore.normweight","text":"normweight(elm::Element, tr::Transition, overvoltage = 4.0)::Float64\n\nReturn the nominal line strength for the specified transition in the specified element. The strength differs from the weight in that the weight is normalized to the most intense line in the shell.\n\n\n\n\n\n","category":"function"},{"location":"#NeXLCore.obystoichiometry-Tuple{Vararg{Pair{Element,var\"#s90\"} where var\"#s90\"<:AbstractFloat,N} where N}","page":"(Image: )Core - Part of the NeXL X-ray Microanalysis Library","title":"NeXLCore.obystoichiometry","text":"obystoichiometry(elms::Pair{Element, <:AbstractFloat}..., valences = valences)\nobystoichiometry(elms::Dict{Element, <:AbstractFloat}; valences = valences)\n\nCompute O-by-stoichiometry from the provided mass fractions of elements.\n\n\n\n\n\n","category":"method"},{"location":"#NeXLCore.outer-Tuple{CharXRay}","page":"(Image: )Core - Part of the NeXL X-ray Microanalysis Library","title":"NeXLCore.outer","text":"outer(cxr::CharXRay)\n\nReturn the outer AtomicSubShell associated with the specified CharXRay.\n\n\n\n\n\n","category":"method"},{"location":"#NeXLCore.parsex-Tuple{AbstractString}","page":"(Image: )Core - Part of the NeXL X-ray Microanalysis Library","title":"NeXLCore.parsex","text":"parsex(str::AbstractString)::Union{Element, SubShell, AtomicSubShell, Transition, CharXRay}\n\nImplements compile time parsing of strings to produce Element, SubShell, AtomicSubShell, Transition or CharXRay objects. The only oddity is that to get SubShell(\"K\") you must enter n\"K1\" to differentiate the sub-shell from potassium. Examples: \"Fe\" => Element, \"L3\" => SubShell, \"Fe L3\" => AtomicSubShell, \"L3-M5\" => Transition, \"Fe L3-M5\" => CharXRay.\n\n\n\n\n\n","category":"method"},{"location":"#NeXLCore.pure-Tuple{Element}","page":"(Image: )Core - Part of the NeXL X-ray Microanalysis Library","title":"NeXLCore.pure","text":"pure(elm::Element)\n\nConstruct a Material to represent a pure element.\n\nExample:\n\n> pure(n\"Fe\")\n\n\n\n\n\n","category":"method"},{"location":"#NeXLCore.relativeionizationcrosssection-Tuple{AtomicSubShell,AbstractFloat,Type{NeXLCore.Pouchou1991}}","page":"(Image: )Core - Part of the NeXL X-ray Microanalysis Library","title":"NeXLCore.relativeionizationcrosssection","text":"relativeionizationcrosssection(z::Int, ss::Int, ev::AbstractFloat)\nrelativeionizationcrosssection(ass::AtomicSubShell, ev::AbstractFloat, ::Type{Pouchou1991})\n\nAn approximate expression based of Pouchou and Pouchoir's 1991 (Green Book) expression for the ionization crosssection plus an additional factor for sub-shell capacity.\n\nExample:\n\n> (/)(map(e->NeXLCore.relativeionizationcrosssection(n\"Fe K\",e),[10.0e3,20.0e3])...)\n0.5982578301818324\n\n\n\n\n\n","category":"method"},{"location":"#NeXLCore.requiredbutmissing-Tuple{Type,Dict{Symbol,Any}}","page":"(Image: )Core - Part of the NeXL X-ray Microanalysis Library","title":"NeXLCore.requiredbutmissing","text":"requiredbutmissing(ty::Type, item::Union{Spectrum,Dict{Symbol,Any}})\n\nList any required but missing properties.\n\n\n\n\n\n","category":"method"},{"location":"#NeXLCore.shell-Tuple{AtomicSubShell}","page":"(Image: )Core - Part of the NeXL X-ray Microanalysis Library","title":"NeXLCore.shell","text":"shell(ass::AtomicSubShell)\n\nExample:\n\njulia> shell(n\"Fe L3\")\nShell(L)\n\n\n\n\n\n","category":"method"},{"location":"#NeXLCore.shell-Tuple{CharXRay}","page":"(Image: )Core - Part of the NeXL X-ray Microanalysis Library","title":"NeXLCore.shell","text":"shell(cxr::CharXRay)\n\nReturn the shell, Shell(1), Shell(2), ... associated with the inner shell.\n\n\n\n\n\n","category":"method"},{"location":"#NeXLCore.shell-Tuple{SubShell}","page":"(Image: )Core - Part of the NeXL X-ray Microanalysis Library","title":"NeXLCore.shell","text":"shell(sh::SubShell)\n\nReturns the appropriate Shell object.\n\nExample:\n\njulia> shell(n\"M5\")\nShell[M]\n\n\n\n\n\n","category":"method"},{"location":"#NeXLCore.shell-Tuple{Transition}","page":"(Image: )Core - Part of the NeXL X-ray Microanalysis Library","title":"NeXLCore.shell","text":"shell(tr::Transition)\n\nReturn the shell (Shell(1), Shell(2),...) associated with the transition's inner shell.\n\nExample:\n\n@assert shell(n\"K-L3\")==Shell(1)\n@assert shell(n\"M5-N7\")==Shell(3)\n\n\n\n\n\n","category":"method"},{"location":"#NeXLCore.splitbyshell-Tuple{Any}","page":"(Image: )Core - Part of the NeXL X-ray Microanalysis Library","title":"NeXLCore.splitbyshell","text":"splitbyshell(cxrs)\n\nSplits a collection of CharXRay into a dictionary where the key is the inner AtomicSubShell and the values are a vector of CharXRay for that inner shell.\n\n\n\n\n\n","category":"method"},{"location":"#NeXLCore.strength","page":"(Image: )Core - Part of the NeXL X-ray Microanalysis Library","title":"NeXLCore.strength","text":"strength(elm::Element, tr::Transition)::Float64\n\nReturn the nominal line strenth for the specified transition in the specified element. The strength differs from the weight by the fluorescence yield.  Assumes an overvoltage of 4.0\n\n\n\n\n\n","category":"function"},{"location":"#NeXLCore.strength-Tuple{CharXRay}","page":"(Image: )Core - Part of the NeXL X-ray Microanalysis Library","title":"NeXLCore.strength","text":"strength(cxr::CharXRay)::Float64\n\nThe fraction of ionizations of inner(cxr) that relax via a characteristic X-ray resulting from an electronic transition from outer(cxr) to inner(cxr).\n\nSee also weight(cxr).\n\n\n\n\n\n","category":"method"},{"location":"#NeXLCore.subshell-Tuple{AbstractString}","page":"(Image: )Core - Part of the NeXL X-ray Microanalysis Library","title":"NeXLCore.subshell","text":"subshell(name::AbstractString)::SubShell\n\nReturns a SubShell structure from a string of the form \"K\", \"L1\", ...., \"O11\"\n\n\n\n\n\n","category":"method"},{"location":"#NeXLCore.subshellindex-Tuple{AbstractString}","page":"(Image: )Core - Part of the NeXL X-ray Microanalysis Library","title":"NeXLCore.subshellindex","text":"subshellindex(ss::AbstractString)\n\nMap sub-shell names (\"K\",\"L1\", ...,\"P11\") to an integer index (\"K\"==1,\"L1\"==2, etc).\n\n\n\n\n\n","category":"method"},{"location":"#NeXLCore.subshellsindexes-Tuple{Int64,Type{FFASTDB}}","page":"(Image: )Core - Part of the NeXL X-ray Microanalysis Library","title":"NeXLCore.subshellsindexes","text":"subshellsindexes(z::Int)\n\nReturn the shells occupied in a neutral, ground state atom of the specified atomic number.\n\n\n\n\n\n","category":"method"},{"location":"#NeXLCore.symbol-Tuple{Element}","page":"(Image: )Core - Part of the NeXL X-ray Microanalysis Library","title":"NeXLCore.symbol","text":"symbol(elm::Element)\n\nReturn the symbol like \"H\", \"He\", \"Li\", .... for the Element.\n\n\n\n\n\n","category":"method"},{"location":"#NeXLCore.transition-Tuple{AbstractString}","page":"(Image: )Core - Part of the NeXL X-ray Microanalysis Library","title":"NeXLCore.transition","text":"transition(str::AbstractString)::Transition\n\nConstructs a Transition structure from a string representation of the form \"K-L3\" or \"L3-M5\".  Asserts if the transition is not a known transition.\n\n\n\n\n\n","category":"method"},{"location":"#NeXLCore.transition-Tuple{CharXRay}","page":"(Image: )Core - Part of the NeXL X-ray Microanalysis Library","title":"NeXLCore.transition","text":"transition(cxr::CharXRay)\n\nReturn the Transition structure associated with the specified CharXRay.\n\n\n\n\n\n","category":"method"},{"location":"#NeXLCore.transition-Tuple{SubShell,SubShell}","page":"(Image: )Core - Part of the NeXL X-ray Microanalysis Library","title":"NeXLCore.transition","text":"transition(inner::SubShell, outer::SubShell)::Transition\n\nReturn a Transition structure from an inner and outer shell. This function tests to ensure that the Transition is a known transition.\n\n\n\n\n\n","category":"method"},{"location":"#NeXLCore.transmission","page":"(Image: )Core - Part of the NeXL X-ray Microanalysis Library","title":"NeXLCore.transmission","text":"transmission(flm::Film, xrayE::AbstractFloat, θ::AbstractFloat, alg::Type{<:NeXLAlgorithm}=FFASTDB) =\n\nCompute the transmission fraction of an X-ray at the specified angle through a Film.\n\n\n\n\n\n","category":"function"},{"location":"#NeXLCore.transmission-Tuple{Film,CharXRay,AbstractFloat}","page":"(Image: )Core - Part of the NeXL X-ray Microanalysis Library","title":"NeXLCore.transmission","text":"transmission(flm::Film, cxr::CharXRay, θ::AbstractFloat) =\n\nCompute the transmission fraction of an X-ray at the specified angle through a Film.\n\n\n\n\n\n","category":"method"},{"location":"#NeXLCore.wavenumber-Tuple{CharXRay}","page":"(Image: )Core - Part of the NeXL X-ray Microanalysis Library","title":"NeXLCore.wavenumber","text":"wavenumber(cxr::CharXRay)\n\nX-ray wavenumber in cm¯¹.\n\n\n\n\n\n","category":"method"},{"location":"#NeXLCore.weight","page":"(Image: )Core - Part of the NeXL X-ray Microanalysis Library","title":"NeXLCore.weight","text":"weight(cxr::CharXRay)\n\nThe line weight of the specified characteristic X-ray relative to the other lines from the same element in the same shell.  The most intense line is normalized to unity.\n\n\n\n\n\n","category":"function"},{"location":"#NeXLCore.z-Tuple{Element}","page":"(Image: )Core - Part of the NeXL X-ray Microanalysis Library","title":"NeXLCore.z","text":"z(elm::Element)\n\nReturn the atomic number of the Element.\n\n\n\n\n\n","category":"method"},{"location":"#NeXLCore.zbar-Tuple{Material}","page":"(Image: )Core - Part of the NeXL X-ray Microanalysis Library","title":"NeXLCore.zbar","text":"zbar(mat::Material)::Float64\n\nThe mean atomic number as calculated using\n\n@article{donovan2003compositional,   title={Compositional averaging of backscatter intensities in compounds},   author={Donovan, John J and Pingitore, Nicholas E and Westphal, Andrew},   journal={Microscopy and Microanalysis},   volume={9},   number={3},   pages={202–215},   year={2003},   publisher={Cambridge University Press} }\n\nor, equivalently,\n\n@article{saldick1954backscattering,   title={Backscattering from Targets of Low Atomic Number Bombarded with 1—2 Mev Electrons},   author={Saldick, Jerome and Allen, Augustine O},   journal={The Journal of Chemical Physics},   volume={22},   number={10},   pages={1777–1777},   year={1954},   publisher={American Institute of Physics} }\n\n\n\n\n\n","category":"method"},{"location":"#NeXLCore.η-Tuple{Element,Real}","page":"(Image: )Core - Part of the NeXL X-ray Microanalysis Library","title":"NeXLCore.η","text":"η(elm::Element, e0::Real)\n\nThe default backscatter coefficient algorith which is August1989η.\n\n\n\n\n\n","category":"method"},{"location":"#NeXLCore.η-Tuple{Type{var\"#s95\"} where var\"#s95\"<:NeXLCore.BackscatterCoefficient,Material,Float64}","page":"(Image: )Core - Part of the NeXL X-ray Microanalysis Library","title":"NeXLCore.η","text":"η([ty::Type{<:BackscatterCoefficient},] mat::Material, e0::Float64)::Float64 =\n\nCalculate the backscatter coefficient for a material using Armstrong's 1991 algorithm for materials.\n\n@incollection{armstrong1991quantitative,   title={Quantitative elemental analysis of individual microparticles with electron beam instruments},   author={Armstrong, John T},   booktitle={Electron probe quantitation},   pages={261–315},   year={1991},   publisher={Springer} }\n\n\n\n\n\n","category":"method"},{"location":"#NeXLCore.λ-Tuple{CharXRay}","page":"(Image: )Core - Part of the NeXL X-ray Microanalysis Library","title":"NeXLCore.λ","text":"λ(cxr::CharXRay)\n\nX-ray wavelength in cm.\n\n\n\n\n\n","category":"method"},{"location":"#NeXLUncertainties.asa","page":"(Image: )Core - Part of the NeXL X-ray Microanalysis Library","title":"NeXLUncertainties.asa","text":"NeXLUncertainties.asa(::Type{DataFrame}, mats::AbstractArray{Material}, mode=:MassFraction)\n\nTabulate the composition of a list of materials in a DataFrame.  One column for each element in any of the materials.\n\nmode = :MassFraction | :NormalizedMassFraction | :AtomicFraction.\n\n\n\n\n\n","category":"function"},{"location":"#NeXLUncertainties.asa-Tuple{Type{DataFrames.DataFrame},Material}","page":"(Image: )Core - Part of the NeXL X-ray Microanalysis Library","title":"NeXLUncertainties.asa","text":"NeXLUncertainties.asa(::Type{DataFrame}, mat::Material)\n\nTabulate the composition of this Material as a DataFrame.  Columns for material name, element abbreviation, atomic number, atomic weight, mass fraction, normalized mass fraction, and atomic fraction. Rows for each element in mat.\n\n\n\n\n\n","category":"method"},{"location":"#NeXLCore.@n_str-Tuple{Any}","page":"(Image: )Core - Part of the NeXL X-ray Microanalysis Library","title":"NeXLCore.@n_str","text":"n\"Fe\"\n\nImplements compile time parsing of strings to produce Element, SubShell, AtomicSubShell, Transition or CharXRay objects.  The only oddity is that to get SubShell(\"K\") you must enter n\"K1\" to differentiate the sub-shell from potassium. Examples:\n\nn\"Fe\" == element(26)\nn\"L3\" == subshell(\"L3\")\nn\"Fe L3\" == AtomicSubShell(element(26),subshell(\"L3\"))\nn\"L3-M5\" == Transition(SubShell(\"L3\"),\"SubShell(\"M5\"))\nn\"Fe L3-M5\" == CharXRay(element(26),Transition(SubShell(\"L3\"),\"SubShell(\"M5\"))\n\n\n\n\n\n","category":"macro"},{"location":"meanionizationpotential/#Comparing-J-(mean-ionization-potential)-Models","page":"Mean Ionization Potential","title":"Comparing J (mean ionization potential) Models","text":"","category":"section"},{"location":"meanionizationpotential/","page":"Mean Ionization Potential","title":"Mean Ionization Potential","text":"The mean ionization potential is a a crude estimate of how much energy an energetic electron will lose traversing a pure element in a continuous slowing down model.","category":"page"},{"location":"meanionizationpotential/","page":"Mean Ionization Potential","title":"Mean Ionization Potential","text":"fracdelta Edelta rho z = frac2 pi e^4 ZA E log(1166 fracEJ) in fraceV cm^2g","category":"page"},{"location":"meanionizationpotential/","page":"Mean Ionization Potential","title":"Mean Ionization Potential","text":"using NeXLCore\nusing Gadfly","category":"page"},{"location":"meanionizationpotential/","page":"Mean Ionization Potential","title":"Mean Ionization Potential","text":"algs = Iterators.reverse( (Bloch1933, Jensen1937, Wilson1941, Sternheimer1964, Springer1967, Zeller1973, Brizuela1990, Berger1982,) )\nzs = 1:99\ncolors = Scale.color_discrete_hue().f(length(algs))\nlayers = [ layer(x = zs, y = map(z->J(alg,z),zs), Theme(default_color=color(colors[i]))) for (i,alg) in enumerate(algs) ]\nplot(layers..., Guide.manual_color_key(\"Algorithm\", collect(repr.(algs)), colors),\n  Guide.xlabel(\"Atomic Number (Z)\"), Guide.ylabel(\"eV\"))","category":"page"},{"location":"meanionizationpotential/","page":"Mean Ionization Potential","title":"Mean Ionization Potential","text":"(Image: )","category":"page"},{"location":"meanionizationpotential/","page":"Mean Ionization Potential","title":"Mean Ionization Potential","text":"Looking more close at the important low-Z end.","category":"page"},{"location":"meanionizationpotential/","page":"Mean Ionization Potential","title":"Mean Ionization Potential","text":"algs = Iterators.reverse( (Bloch1933, Jensen1937, Wilson1941, Sternheimer1964, Springer1967, Zeller1973, Brizuela1990, Berger1982,) )\nzs = 1:20\ncolors = Scale.color_discrete_hue().f(length(algs))\nlayers = [ layer(x = zs, y = map(z->J(alg,z),zs), Theme(default_color=color(colors[i]))) for (i,alg) in enumerate(algs) ]\nplot(layers..., Guide.manual_color_key(\"Algorithm\", collect(repr.(algs)), colors),\n  Guide.xlabel(\"Atomic Number (Z)\"), Guide.ylabel(\"eV\"))","category":"page"},{"location":"meanionizationpotential/","page":"Mean Ionization Potential","title":"Mean Ionization Potential","text":"(Image: )","category":"page"},{"location":"meanionizationpotential/","page":"Mean Ionization Potential","title":"Mean Ionization Potential","text":"If we presume that Berger (1982) is the most accurate, then Zeller (1975) is about as good as it gets for the analytical expressions.","category":"page"},{"location":"meanionizationpotential/","page":"Mean Ionization Potential","title":"Mean Ionization Potential","text":"If we assume that each element acts independently, the we would expect that fracdelta Edelta rho z = sum_z C_z frac2 pi e^4 ZA E log(1166 fracEJ_z) where C_z is the mass-fraction of element z.","category":"page"}]
}
